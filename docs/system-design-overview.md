# iFlytekå¤šæ¨¡æ€æ™ºèƒ½é¢è¯•è¯„æµ‹ç³»ç»Ÿ
## æ¦‚è¦è®¾è®¡è¯´æ˜ä¹¦

---

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯
- **é¡¹ç›®åç§°**ï¼šiFlytekå¤šæ¨¡æ€æ™ºèƒ½é¢è¯•è¯„æµ‹ç³»ç»Ÿ
- **æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
- **ç¼–å†™æ—¥æœŸ**ï¼š2025å¹´7æœˆ
- **æ–‡æ¡£ç±»å‹**ï¼šæ¦‚è¦è®¾è®¡è¯´æ˜ä¹¦

---

## ğŸ¯ 1. ç³»ç»Ÿæ¦‚è¿°

### 1.1 ç³»ç»Ÿç›®æ ‡
æ„å»ºä¸€ä¸ªåŸºäºiFlytekæ˜Ÿç«å¤§æ¨¡å‹çš„å¤šæ¨¡æ€æ™ºèƒ½é¢è¯•è¯„æµ‹ç³»ç»Ÿï¼Œä¸ºé«˜æ ¡å­¦ç”Ÿæä¾›ä¸“ä¸šçš„é¢è¯•è®­ç»ƒå’Œèƒ½åŠ›è¯„ä¼°æœåŠ¡ï¼Œå¸®åŠ©å­¦ç”Ÿæå‡é¢è¯•æŠ€èƒ½ï¼Œç¼“è§£å°±ä¸šç„¦è™‘ã€‚

### 1.2 ç³»ç»Ÿç‰¹ç‚¹
- **å¤šæ¨¡æ€åˆ†æ**ï¼šæ”¯æŒæ–‡æœ¬ã€è¯­éŸ³ã€è§†é¢‘ä¸‰ç§æ¨¡æ€çš„ç»¼åˆåˆ†æ
- **æ™ºèƒ½è¯„ä¼°**ï¼šåŸºäº6é¡¹æ ¸å¿ƒèƒ½åŠ›æŒ‡æ ‡çš„ç§‘å­¦è¯„ä¼°ä½“ç³»
- **ä¸ªæ€§åŒ–æŒ‡å¯¼**ï¼šæ ¹æ®è¯„ä¼°ç»“æœç”Ÿæˆä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„
- **å®æ—¶åé¦ˆ**ï¼šé¢è¯•è¿‡ç¨‹ä¸­çš„å³æ—¶æ™ºèƒ½å¼•å¯¼å’Œå»ºè®®

### 1.3 æŠ€æœ¯é¢†åŸŸè¦†ç›–
- **äººå·¥æ™ºèƒ½**ï¼šæœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹ ã€è®¡ç®—æœºè§†è§‰ã€è‡ªç„¶è¯­è¨€å¤„ç†
- **å¤§æ•°æ®**ï¼šæ•°æ®åˆ†æã€æ•°æ®æŒ–æ˜ã€å¤§æ•°æ®æ¶æ„ã€å•†ä¸šæ™ºèƒ½
- **ç‰©è”ç½‘**ï¼šåµŒå…¥å¼å¼€å‘ã€ä¼ æ„Ÿå™¨æŠ€æœ¯ã€è¾¹ç¼˜è®¡ç®—ã€æ™ºèƒ½ç¡¬ä»¶

---

## ğŸ—ï¸ 2. ç³»ç»Ÿæ¶æ„è®¾è®¡

### 2.1 æ€»ä½“æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç•Œé¢å±‚                              â”‚
â”‚  Vue.js 3 + Element Plus + å“åº”å¼è®¾è®¡ + ä¸­æ–‡æœ¬åœ°åŒ–         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ HTTPS/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åº”ç”¨æœåŠ¡å±‚                              â”‚
â”‚    FastAPI + è·¯ç”±ç®¡ç† + ä¸­é—´ä»¶ + è®¤è¯æˆæƒ                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ä¸šåŠ¡é€»è¾‘å±‚                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ é¢è¯•ç®¡ç†æ¨¡å— â”‚ â”‚ å¤šæ¨¡æ€åˆ†æ  â”‚ â”‚ èƒ½åŠ›è¯„ä¼°æ¨¡å— â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ æ™ºèƒ½åé¦ˆæ¨¡å— â”‚ â”‚ å­¦ä¹ è·¯å¾„    â”‚ â”‚ ç”¨æˆ·ç®¡ç†æ¨¡å— â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   AIæœåŠ¡å±‚                              â”‚
â”‚  iFlytekæ˜Ÿç«å¤§æ¨¡å‹ + è¯­éŸ³è¯†åˆ« + è§†é¢‘åˆ†æ + NLPå¤„ç†        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ•°æ®å­˜å‚¨å±‚                              â”‚
â”‚   SQLiteæ•°æ®åº“ + Redisç¼“å­˜ + æ–‡ä»¶å­˜å‚¨ + æ—¥å¿—ç³»ç»Ÿ         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ¶æ„ç‰¹ç‚¹
- **åˆ†å±‚æ¶æ„**ï¼šæ¸…æ™°çš„åˆ†å±‚è®¾è®¡ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
- **å¾®æœåŠ¡åŒ–**ï¼šæ ¸å¿ƒåŠŸèƒ½æ¨¡å—åŒ–ï¼Œæ”¯æŒç‹¬ç«‹éƒ¨ç½²å’Œæ‰©å±•
- **é«˜å¯ç”¨æ€§**ï¼šæ”¯æŒè´Ÿè½½å‡è¡¡å’Œæ•…éšœè½¬ç§»
- **å¯æ‰©å±•æ€§**ï¼šæ”¯æŒæ°´å¹³æ‰©å±•å’Œå‚ç›´æ‰©å±•

---

## ğŸ”§ 3. æ ¸å¿ƒæ¨¡å—è®¾è®¡

### 3.1 é¢è¯•ç®¡ç†æ¨¡å—
#### åŠŸèƒ½èŒè´£
- é¢è¯•ä¼šè¯ç”Ÿå‘½å‘¨æœŸç®¡ç†
- é—®é¢˜ç”Ÿæˆå’Œæ¨é€
- é¢è¯•è¿›åº¦è·Ÿè¸ª
- é¢è¯•ç»“æœå­˜å‚¨

#### æ ¸å¿ƒç»„ä»¶
```python
class InterviewManager:
    """é¢è¯•ç®¡ç†å™¨"""
    def create_session(self, user_id, domain, position) -> InterviewSession
    def generate_question(self, session_id, difficulty) -> Question
    def update_progress(self, session_id, progress) -> bool
    def end_session(self, session_id) -> InterviewResult
```

#### æ•°æ®æµç¨‹
1. ç”¨æˆ·é€‰æ‹©æŠ€æœ¯é¢†åŸŸå’Œå²—ä½
2. ç³»ç»Ÿåˆ›å»ºé¢è¯•ä¼šè¯
3. æ ¹æ®ç”¨æˆ·æ°´å¹³ç”Ÿæˆé—®é¢˜
4. è·Ÿè¸ªå›ç­”è¿›åº¦
5. ç”Ÿæˆé¢è¯•ç»“æœ

### 3.2 å¤šæ¨¡æ€åˆ†ææ¨¡å—
#### åŠŸèƒ½èŒè´£
- æ–‡æœ¬å†…å®¹æ·±åº¦åˆ†æ
- è¯­éŸ³ç‰¹å¾æå–å’Œåˆ†æ
- è§†é¢‘è¡Œä¸ºè¯†åˆ«å’Œè¯„ä¼°
- å¤šæ¨¡æ€æ•°æ®èåˆ

#### æ ¸å¿ƒç»„ä»¶
```python
class MultimodalAnalyzer:
    """å¤šæ¨¡æ€åˆ†æå™¨"""
    def analyze_text(self, text, context) -> TextAnalysisResult
    def analyze_audio(self, audio_path) -> AudioAnalysisResult
    def analyze_video(self, video_path) -> VideoAnalysisResult
    def fuse_results(self, *results) -> ComprehensiveResult
```

#### åˆ†æç»´åº¦
- **æ–‡æœ¬åˆ†æ**ï¼šæŠ€æœ¯å‡†ç¡®æ€§ã€é€»è¾‘ç»“æ„ã€è¡¨è¾¾æ¸…æ™°åº¦
- **è¯­éŸ³åˆ†æ**ï¼šè¯­é€Ÿã€éŸ³é‡ã€æƒ…æ„Ÿç¨³å®šæ€§ã€å‘éŸ³å‡†ç¡®åº¦
- **è§†é¢‘åˆ†æ**ï¼šè¡¨æƒ…ã€å§¿æ€ã€çœ¼ç¥äº¤æµã€æ³¨æ„åŠ›é›†ä¸­åº¦

### 3.3 èƒ½åŠ›è¯„ä¼°æ¨¡å—
#### å…­é¡¹æ ¸å¿ƒèƒ½åŠ›
1. **ä¸“ä¸šçŸ¥è¯†æ°´å¹³** (25%æƒé‡)
   - æŠ€æœ¯æ¦‚å¿µç†è§£
   - å®è·µç»éªŒä½“ç°
   - çŸ¥è¯†æ·±åº¦å’Œå¹¿åº¦

2. **æŠ€èƒ½åŒ¹é…åº¦** (20%æƒé‡)
   - å²—ä½æŠ€èƒ½è¦æ±‚åŒ¹é…
   - æŠ€æœ¯æ ˆç†Ÿæ‚‰ç¨‹åº¦
   - é¡¹ç›®ç»éªŒç›¸å…³æ€§

3. **è¯­è¨€è¡¨è¾¾èƒ½åŠ›** (15%æƒé‡)
   - ä¸­æ–‡è¡¨è¾¾æ¸…æ™°åº¦
   - é€»è¾‘è¡¨è¾¾èƒ½åŠ›
   - ä¸“ä¸šæœ¯è¯­ä½¿ç”¨

4. **é€»è¾‘æ€ç»´èƒ½åŠ›** (15%æƒé‡)
   - é—®é¢˜åˆ†æèƒ½åŠ›
   - è§£å†³æ–¹æ¡ˆé€»è¾‘æ€§
   - å› æœå…³ç³»ç†è§£

5. **åˆ›æ–°èƒ½åŠ›** (15%æƒé‡)
   - åˆ›æ–°æ€ç»´ä½“ç°
   - è§£å†³æ–¹æ¡ˆåˆ›æ–°æ€§
   - æŠ€æœ¯å‰ç»æ€§

6. **åº”å˜æŠ—å‹èƒ½åŠ›** (10%æƒé‡)
   - é¢è¯•ç´§å¼ åº¦æ§åˆ¶
   - å›°éš¾é—®é¢˜åº”å¯¹
   - æƒ…ç»ªç¨³å®šæ€§

#### è¯„ä¼°ç®—æ³•
```python
class CapabilityEvaluator:
    """èƒ½åŠ›è¯„ä¼°å™¨"""
    def __init__(self):
        self.weights = {
            "professional_knowledge": 0.25,
            "skill_matching": 0.20,
            "language_expression": 0.15,
            "logical_thinking": 0.15,
            "innovation_ability": 0.15,
            "stress_resistance": 0.10
        }
    
    def evaluate(self, multimodal_results) -> CapabilityScores:
        """ç»¼åˆè¯„ä¼°å…­é¡¹èƒ½åŠ›"""
        scores = {}
        for capability, weight in self.weights.items():
            scores[capability] = self._evaluate_capability(
                capability, multimodal_results
            )
        
        scores["overall_score"] = sum(
            scores[cap] * weight 
            for cap, weight in self.weights.items()
        )
        return CapabilityScores(**scores)
```

### 3.4 æ™ºèƒ½åé¦ˆæ¨¡å—
#### åŠŸèƒ½èŒè´£
- ç”Ÿæˆå¯è§†åŒ–è¯„ä¼°æŠ¥å‘Š
- æä¾›å…·ä½“æ”¹è¿›å»ºè®®
- ç”Ÿæˆèƒ½åŠ›é›·è¾¾å›¾
- å¯¹æ¯”è¡Œä¸šå¹³å‡æ°´å¹³

#### åé¦ˆç±»å‹
1. **å³æ—¶åé¦ˆ**ï¼šé¢è¯•è¿‡ç¨‹ä¸­çš„å®æ—¶æç¤º
2. **è¯¦ç»†æŠ¥å‘Š**ï¼šé¢è¯•ç»“æŸåçš„ç»¼åˆåˆ†æ
3. **æ”¹è¿›å»ºè®®**ï¼šé’ˆå¯¹æ€§çš„æå‡å»ºè®®
4. **å­¦ä¹ è·¯å¾„**ï¼šä¸ªæ€§åŒ–çš„å­¦ä¹ è®¡åˆ’

#### å¯è§†åŒ–ç»„ä»¶
```javascript
// é›·è¾¾å›¾é…ç½®
const radarChartConfig = {
  type: 'radar',
  data: {
    labels: ['ä¸“ä¸šçŸ¥è¯†', 'æŠ€èƒ½åŒ¹é…', 'è¯­è¨€è¡¨è¾¾', 'é€»è¾‘æ€ç»´', 'åˆ›æ–°èƒ½åŠ›', 'åº”å˜æŠ—å‹'],
    datasets: [{
      label: 'å½“å‰æ°´å¹³',
      data: capabilityScores,
      backgroundColor: 'rgba(24, 144, 255, 0.2)',
      borderColor: '#1890ff'
    }, {
      label: 'è¡Œä¸šå¹³å‡',
      data: industryAverage,
      backgroundColor: 'rgba(82, 196, 26, 0.1)',
      borderColor: '#52c41a'
    }]
  }
}
```

---

## ğŸ¤– 4. AIæœåŠ¡é›†æˆ

### 4.1 iFlytekæ˜Ÿç«å¤§æ¨¡å‹é›†æˆ
#### é›†æˆæ¶æ„
```python
class IflytekSparkService:
    """iFlytekæ˜Ÿç«å¤§æ¨¡å‹æœåŠ¡"""
    def __init__(self):
        self.app_id = settings.IFLYTEK_APP_ID
        self.api_key = settings.IFLYTEK_API_KEY
        self.api_secret = settings.IFLYTEK_API_SECRET
        self.base_url = "wss://spark-api.xf-yun.com/v3.5/chat"
    
    async def analyze_interview_response(self, text, context):
        """åˆ†æé¢è¯•å›ç­”"""
        prompt = self._build_analysis_prompt(text, context)
        response = await self._call_spark_api(prompt)
        return self._parse_response(response)
    
    async def generate_follow_up_question(self, context, performance):
        """ç”Ÿæˆåç»­é—®é¢˜"""
        prompt = self._build_question_prompt(context, performance)
        response = await self._call_spark_api(prompt)
        return self._extract_question(response)
```

#### æ ¸å¿ƒåŠŸèƒ½
1. **æ·±åº¦åˆ†æ**ï¼š15å¹´ä¸“å®¶çº§é¢è¯•å®˜åˆ†æèƒ½åŠ›
2. **æ™ºèƒ½å¼•å¯¼**ï¼šæ ¹æ®å›ç­”è´¨é‡æä¾›é’ˆå¯¹æ€§æŒ‡å¯¼
3. **åŠ¨æ€è°ƒèŠ‚**ï¼šæ ¹æ®è¡¨ç°è°ƒæ•´é—®é¢˜éš¾åº¦
4. **çŸ¥è¯†åº“æ”¯æŒ**ï¼šåŸºäºä¸“ä¸šæŠ€æœ¯çŸ¥è¯†åº“çš„å‡†ç¡®æŒ‡å¯¼

### 4.2 å¤šæ¨¡æ€AIèƒ½åŠ›
#### è¯­éŸ³å¤„ç†
- **è¯­éŸ³è¯†åˆ«**ï¼šä¸­æ–‡è¯­éŸ³è½¬æ–‡å­—
- **æƒ…æ„Ÿåˆ†æ**ï¼šè¯­éŸ³æƒ…æ„ŸçŠ¶æ€è¯†åˆ«
- **è¯­éŸ³è´¨é‡**ï¼šå‘éŸ³ã€è¯­é€Ÿã€æµç•…åº¦è¯„ä¼°

#### è§†é¢‘å¤„ç†
- **äººè„¸æ£€æµ‹**ï¼šé¢éƒ¨åŒºåŸŸå®šä½
- **è¡¨æƒ…è¯†åˆ«**ï¼šæƒ…ç»ªçŠ¶æ€åˆ†æ
- **è¡Œä¸ºåˆ†æ**ï¼šå§¿æ€ã€çœ¼ç¥ã€æ³¨æ„åŠ›è¯„ä¼°

#### æ–‡æœ¬å¤„ç†
- **è¯­ä¹‰ç†è§£**ï¼šæ·±åº¦è¯­ä¹‰åˆ†æ
- **æŠ€æœ¯è¯†åˆ«**ï¼šä¸“ä¸šæœ¯è¯­å’Œæ¦‚å¿µè¯†åˆ«
- **é€»è¾‘åˆ†æ**ï¼šå›ç­”é€»è¾‘ç»“æ„åˆ†æ

---

## ğŸ’¾ 5. æ•°æ®åº“è®¾è®¡

### 5.1 æ ¸å¿ƒæ•°æ®è¡¨
#### ç”¨æˆ·ç›¸å…³è¡¨
```sql
-- ç”¨æˆ·åŸºæœ¬ä¿¡æ¯è¡¨
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE,
    password_hash VARCHAR(255),
    full_name VARCHAR(100),
    university VARCHAR(100),
    major VARCHAR(100),
    graduation_year INTEGER,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ç”¨æˆ·æŠ€èƒ½æ¡£æ¡ˆè¡¨
CREATE TABLE user_profiles (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    preferred_domains JSON,  -- åå¥½æŠ€æœ¯é¢†åŸŸ
    skill_levels JSON,       -- æŠ€èƒ½æ°´å¹³
    career_goals TEXT,       -- èŒä¸šç›®æ ‡
    learning_preferences JSON, -- å­¦ä¹ åå¥½
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

#### é¢è¯•ç›¸å…³è¡¨
```sql
-- é¢è¯•ä¼šè¯è¡¨
CREATE TABLE interview_sessions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    domain VARCHAR(50) NOT NULL,
    position VARCHAR(100) NOT NULL,
    difficulty_level VARCHAR(20) DEFAULT 'ä¸­çº§',
    status VARCHAR(20) DEFAULT 'active',
    start_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    end_time TIMESTAMP,
    total_questions INTEGER DEFAULT 0,
    answered_questions INTEGER DEFAULT 0,
    session_metadata JSON,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

-- é¢è¯•é—®é¢˜è¡¨
CREATE TABLE interview_questions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    domain VARCHAR(50) NOT NULL,
    position VARCHAR(100),
    difficulty_level VARCHAR(20),
    question_text TEXT NOT NULL,
    question_type VARCHAR(50), -- æŠ€æœ¯é¢˜ã€è¡Œä¸ºé¢˜ã€åœºæ™¯é¢˜
    expected_keywords JSON,    -- æœŸæœ›å…³é”®è¯
    scoring_criteria JSON,     -- è¯„åˆ†æ ‡å‡†
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### åˆ†æç»“æœè¡¨
```sql
-- å¤šæ¨¡æ€åˆ†æè®°å½•è¡¨
CREATE TABLE multimodal_analysis_records (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    session_id INTEGER NOT NULL,
    question_id INTEGER NOT NULL,
    user_response TEXT,
    audio_file_path VARCHAR(255),
    video_file_path VARCHAR(255),
    text_analysis_result JSON,
    audio_analysis_result JSON,
    video_analysis_result JSON,
    comprehensive_score FLOAT,
    analysis_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (session_id) REFERENCES interview_sessions(id),
    FOREIGN KEY (question_id) REFERENCES interview_questions(id)
);

-- èƒ½åŠ›è¯„ä¼°ç»“æœè¡¨
CREATE TABLE capability_assessments (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    session_id INTEGER NOT NULL,
    professional_knowledge FLOAT NOT NULL,
    skill_matching FLOAT NOT NULL,
    language_expression FLOAT NOT NULL,
    logical_thinking FLOAT NOT NULL,
    innovation_ability FLOAT NOT NULL,
    stress_resistance FLOAT NOT NULL,
    overall_score FLOAT NOT NULL,
    assessment_details JSON,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (session_id) REFERENCES interview_sessions(id)
);
```

### 5.2 æ•°æ®å…³ç³»å›¾
```
users (1) â”€â”€â”€â”€ (n) interview_sessions
  â”‚                      â”‚
  â”‚                      â”‚ (1)
  â”‚                      â”‚
  â””â”€â”€ (1) user_profiles   â””â”€â”€ (n) multimodal_analysis_records
                               â”‚
                               â”‚ (n)
                               â”‚
                          interview_questions (1)
                               â”‚
                               â”‚ (1)
                               â”‚
                          capability_assessments (n)
```

---

## ğŸŒ 6. APIæ¥å£è®¾è®¡

### 6.1 RESTful APIè§„èŒƒ
#### åŸºç¡€è§„èŒƒ
- **åŸºç¡€URL**ï¼š`http://localhost:8000/api/v1`
- **è®¤è¯æ–¹å¼**ï¼šJWT Token
- **æ•°æ®æ ¼å¼**ï¼šJSON
- **å­—ç¬¦ç¼–ç **ï¼šUTF-8

#### å“åº”æ ¼å¼
```json
{
  "success": true,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {},
  "timestamp": "2025-07-21T10:30:00Z",
  "request_id": "uuid-string"
}
```

### 6.2 æ ¸å¿ƒAPIç«¯ç‚¹
#### é¢è¯•ç®¡ç†API
```python
# è·å–æŠ€æœ¯é¢†åŸŸåˆ—è¡¨
GET /api/v1/domains
Response: {
  "domains": [
    {"id": "ai", "name": "äººå·¥æ™ºèƒ½", "positions": [...]},
    {"id": "bigdata", "name": "å¤§æ•°æ®", "positions": [...]},
    {"id": "iot", "name": "ç‰©è”ç½‘", "positions": [...]}
  ]
}

# å¼€å§‹é¢è¯•
POST /api/v1/interview/start
Request: {
  "domain": "ai",
  "position": "AIå·¥ç¨‹å¸ˆ",
  "difficulty": "ä¸­çº§"
}
Response: {
  "session_id": 123,
  "first_question": "è¯·ä»‹ç»ä¸€ä¸‹æœºå™¨å­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µ",
  "question_id": 456
}

# æäº¤å›ç­”å¹¶è·å–ä¸‹ä¸€é¢˜
POST /api/v1/interview/next
Request: {
  "session_id": 123,
  "question_id": 456,
  "text_response": "æœºå™¨å­¦ä¹ æ˜¯...",
  "audio_file": "base64_encoded_audio",
  "video_file": "base64_encoded_video"
}
Response: {
  "analysis_result": {...},
  "next_question": "è¯·è¯¦ç»†è¯´æ˜ç›‘ç£å­¦ä¹ å’Œæ— ç›‘ç£å­¦ä¹ çš„åŒºåˆ«",
  "next_question_id": 789,
  "progress": 0.2
}
```

#### å¤šæ¨¡æ€åˆ†æAPI
```python
# å¤šæ¨¡æ€æ•°æ®åˆ†æ
POST /api/v1/multimodal/analyze
Request: {
  "session_id": 123,
  "text_content": "ç”¨æˆ·å›ç­”å†…å®¹",
  "audio_data": "base64_encoded_audio",
  "video_data": "base64_encoded_video",
  "question_context": {
    "domain": "ai",
    "question_type": "technical"
  }
}
Response: {
  "text_analysis": {
    "technical_accuracy": 0.85,
    "logical_structure": 0.78,
    "expression_clarity": 0.82
  },
  "audio_analysis": {
    "speech_clarity": 0.88,
    "emotion_stability": 0.75,
    "confidence_level": 0.80
  },
  "video_analysis": {
    "attention_level": 0.90,
    "emotion_state": "calm",
    "eye_contact": 0.85
  },
  "comprehensive_score": 0.83
}
```

#### è¯„ä¼°æŠ¥å‘ŠAPI
```python
# è·å–é¢è¯•è¯„ä¼°æŠ¥å‘Š
GET /api/v1/assessment/{session_id}
Response: {
  "session_info": {
    "domain": "ai",
    "position": "AIå·¥ç¨‹å¸ˆ",
    "duration": 45,
    "questions_answered": 8
  },
  "capability_scores": {
    "professional_knowledge": 0.85,
    "skill_matching": 0.78,
    "language_expression": 0.82,
    "logical_thinking": 0.80,
    "innovation_ability": 0.75,
    "stress_resistance": 0.88,
    "overall_score": 0.81
  },
  "detailed_feedback": [...],
  "improvement_suggestions": [...],
  "learning_path": {...}
}
```

---

## ğŸ”’ 7. å®‰å…¨è®¾è®¡

### 7.1 æ•°æ®å®‰å…¨
#### åŠ å¯†ç­–ç•¥
- **ä¼ è¾“åŠ å¯†**ï¼šHTTPS/TLS 1.3
- **å­˜å‚¨åŠ å¯†**ï¼šAES-256åŠ å¯†æ•æ„Ÿæ•°æ®
- **å¯†ç å®‰å…¨**ï¼šbcryptå“ˆå¸Œç®—æ³•

#### è®¿é—®æ§åˆ¶
```python
from functools import wraps
from jwt import decode, InvalidTokenError

def require_auth(f):
    @wraps(f)
    def decorated_function(*args, **kwargs):
        token = request.headers.get('Authorization')
        if not token:
            return jsonify({'error': 'ç¼ºå°‘è®¤è¯ä»¤ç‰Œ'}), 401
        
        try:
            payload = decode(token, SECRET_KEY, algorithms=['HS256'])
            current_user = get_user_by_id(payload['user_id'])
        except InvalidTokenError:
            return jsonify({'error': 'æ— æ•ˆä»¤ç‰Œ'}), 401
        
        return f(current_user, *args, **kwargs)
    return decorated_function
```

### 7.2 éšç§ä¿æŠ¤
#### æ•°æ®æœ€å°åŒ–
- åªæ”¶é›†å¿…è¦çš„ç”¨æˆ·æ•°æ®
- å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®
- æ”¯æŒç”¨æˆ·æ•°æ®åˆ é™¤

#### åŒ¿ååŒ–å¤„ç†
```python
def anonymize_user_data(user_data):
    """ç”¨æˆ·æ•°æ®åŒ¿ååŒ–"""
    return {
        'user_id': hash_user_id(user_data['id']),
        'domain': user_data['domain'],
        'scores': user_data['scores'],
        # ç§»é™¤ä¸ªäººèº«ä»½ä¿¡æ¯
        'timestamp': user_data['created_at']
    }
```

---

## ğŸ“Š 8. æ€§èƒ½è®¾è®¡

### 8.1 æ€§èƒ½ç›®æ ‡
- **å“åº”æ—¶é—´**ï¼šAPIå“åº” < 2ç§’
- **å¹¶å‘æ”¯æŒ**ï¼š1000+ç”¨æˆ·åŒæ—¶åœ¨çº¿
- **å¯ç”¨æ€§**ï¼š99.9%ç³»ç»Ÿå¯ç”¨æ€§
- **ååé‡**ï¼š1000+ QPS

### 8.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
#### ç¼“å­˜ç­–ç•¥
```python
import redis
from functools import wraps

redis_client = redis.Redis(host='localhost', port=6379, db=0)

def cache_result(expiration=3600):
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            cache_key = f"{func.__name__}:{hash(str(args) + str(kwargs))}"
            
            # å°è¯•ä»ç¼“å­˜è·å–
            cached_result = redis_client.get(cache_key)
            if cached_result:
                return json.loads(cached_result)
            
            # æ‰§è¡Œå‡½æ•°å¹¶ç¼“å­˜ç»“æœ
            result = func(*args, **kwargs)
            redis_client.setex(cache_key, expiration, json.dumps(result))
            return result
        return wrapper
    return decorator
```

#### å¼‚æ­¥å¤„ç†
```python
import asyncio
from concurrent.futures import ThreadPoolExecutor

async def process_multimodal_analysis(data):
    """å¼‚æ­¥å¤„ç†å¤šæ¨¡æ€åˆ†æ"""
    loop = asyncio.get_event_loop()
    
    with ThreadPoolExecutor(max_workers=3) as executor:
        # å¹¶è¡Œå¤„ç†ä¸‰ç§æ¨¡æ€
        text_task = loop.run_in_executor(executor, analyze_text, data.text)
        audio_task = loop.run_in_executor(executor, analyze_audio, data.audio)
        video_task = loop.run_in_executor(executor, analyze_video, data.video)
        
        # ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ
        text_result, audio_result, video_result = await asyncio.gather(
            text_task, audio_task, video_task
        )
    
    # èåˆç»“æœ
    return fuse_multimodal_results(text_result, audio_result, video_result)
```

---

## ğŸ¯ 9. éƒ¨ç½²æ¶æ„

### 9.1 éƒ¨ç½²ç¯å¢ƒ
#### å¼€å‘ç¯å¢ƒ
- **å‰ç«¯**ï¼šVue.jså¼€å‘æœåŠ¡å™¨ (localhost:5173)
- **åç«¯**ï¼šFastAPIå¼€å‘æœåŠ¡å™¨ (localhost:8000)
- **æ•°æ®åº“**ï¼šSQLiteæœ¬åœ°æ–‡ä»¶
- **ç¼“å­˜**ï¼šRediså•æœºç‰ˆ

#### ç”Ÿäº§ç¯å¢ƒ
- **å‰ç«¯**ï¼šNginx + é™æ€æ–‡ä»¶æœåŠ¡
- **åç«¯**ï¼šGunicorn + FastAPI
- **æ•°æ®åº“**ï¼šPostgreSQLé›†ç¾¤
- **ç¼“å­˜**ï¼šRedisé›†ç¾¤
- **è´Ÿè½½å‡è¡¡**ï¼šNginxè´Ÿè½½å‡è¡¡

### 9.2 å®¹å™¨åŒ–éƒ¨ç½²
```yaml
# docker-compose.yml
version: '3.8'

services:
  frontend:
    build: ./frontend
    ports:
      - "80:80"
    depends_on:
      - backend
  
  backend:
    build: ./backend
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=postgresql://user:pass@db:5432/interview_db
      - REDIS_URL=redis://redis:6379/0
    depends_on:
      - db
      - redis
  
  db:
    image: postgres:13
    environment:
      - POSTGRES_DB=interview_db
      - POSTGRES_USER=user
      - POSTGRES_PASSWORD=pass
    volumes:
      - postgres_data:/var/lib/postgresql/data
  
  redis:
    image: redis:alpine
    ports:
      - "6379:6379"

volumes:
  postgres_data:
```

---

## ğŸ“ˆ 10. ç›‘æ§å’Œè¿ç»´

### 10.1 ç›‘æ§æŒ‡æ ‡
#### ç³»ç»Ÿç›‘æ§
- CPUä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€ç£ç›˜I/O
- ç½‘ç»œæµé‡ã€è¿æ¥æ•°
- æœåŠ¡å¯ç”¨æ€§ã€å“åº”æ—¶é—´

#### ä¸šåŠ¡ç›‘æ§
- ç”¨æˆ·æ´»è·ƒåº¦ã€é¢è¯•å®Œæˆç‡
- APIè°ƒç”¨é‡ã€é”™è¯¯ç‡
- AIæœåŠ¡è°ƒç”¨æˆåŠŸç‡

### 10.2 æ—¥å¿—ç®¡ç†
```python
import logging
from datetime import datetime

# é…ç½®æ—¥å¿—æ ¼å¼
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('logs/app.log'),
        logging.StreamHandler()
    ]
)

logger = logging.getLogger(__name__)

# ä¸šåŠ¡æ—¥å¿—è®°å½•
def log_interview_event(event_type, session_id, details):
    """è®°å½•é¢è¯•ç›¸å…³äº‹ä»¶"""
    logger.info(f"Interview Event: {event_type}", extra={
        'session_id': session_id,
        'event_type': event_type,
        'details': details,
        'timestamp': datetime.now().isoformat()
    })
```

---

## ğŸ¯ æ€»ç»“

æœ¬æ¦‚è¦è®¾è®¡è¯´æ˜ä¹¦è¯¦ç»†æè¿°äº†iFlytekå¤šæ¨¡æ€æ™ºèƒ½é¢è¯•è¯„æµ‹ç³»ç»Ÿçš„æ•´ä½“æ¶æ„ã€æ ¸å¿ƒæ¨¡å—ã€æŠ€æœ¯å®ç°å’Œéƒ¨ç½²æ–¹æ¡ˆã€‚ç³»ç»Ÿé‡‡ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆï¼Œå…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ã€å¯ç»´æŠ¤æ€§å’Œå®‰å…¨æ€§ï¼Œå®Œå…¨æ»¡è¶³æ¯”èµ›è¦æ±‚ï¼Œä¸ºé«˜æ ¡å­¦ç”Ÿæä¾›ä¸“ä¸šçš„é¢è¯•è®­ç»ƒæœåŠ¡ã€‚
