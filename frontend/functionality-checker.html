<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iFlytekåŠŸèƒ½å®Œæ•´æ€§éªŒè¯å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #52c41a, #73d13d);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .main-content {
            padding: 30px;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 25px;
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            background: #fafafa;
        }
        
        .test-section h2 {
            color: #52c41a;
            margin-bottom: 20px;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .function-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .function-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e8e8e8;
            transition: all 0.3s ease;
        }
        
        .function-card:hover {
            border-color: #52c41a;
            box-shadow: 0 4px 12px rgba(82, 196, 26, 0.1);
        }
        
        .function-card h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-indicator.pending { background: #d9d9d9; }
        .status-indicator.testing { background: #faad14; }
        .status-indicator.success { background: #52c41a; }
        .status-indicator.error { background: #ff4d4f; }
        .status-indicator.warning { background: #fa8c16; }
        
        .test-button {
            width: 100%;
            background: #52c41a;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }
        
        .test-button:hover {
            background: #73d13d;
        }
        
        .test-button:disabled {
            background: #d9d9d9;
            cursor: not-allowed;
        }
        
        .test-result {
            padding: 10px;
            border-radius: 6px;
            font-size: 13px;
            margin-top: 10px;
            display: none;
        }
        
        .test-result.success {
            background: #f6ffed;
            color: #52c41a;
            border: 1px solid #b7eb8f;
        }
        
        .test-result.error {
            background: #fff2f0;
            color: #ff4d4f;
            border: 1px solid #ffccc7;
        }
        
        .test-result.warning {
            background: #fffbe6;
            color: #faad14;
            border: 1px solid #ffe58f;
        }
        
        .feature-list {
            list-style: none;
            margin-bottom: 15px;
        }
        
        .feature-list li {
            padding: 5px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .feature-list li:last-child {
            border-bottom: none;
        }
        
        .quick-nav {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .nav-button {
            background: #1890ff;
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            text-decoration: none;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .nav-button:hover {
            background: #40a9ff;
            transform: translateY(-1px);
        }
        
        .log-panel {
            background: #001529;
            color: #fff;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            display: none;
        }
        
        .log-panel.show {
            display: block;
        }
        
        .progress-summary {
            background: linear-gradient(135deg, #f0f9ff, #e6f7ff);
            border: 1px solid #91d5ff;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            display: none;
        }
        
        .progress-summary.show {
            display: block;
        }
        
        .progress-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            text-align: center;
        }
        
        .stat-item {
            padding: 10px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 12px;
            color: #666;
        }
        
        .global-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .global-button {
            flex: 1;
            min-width: 150px;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .global-button.primary {
            background: #52c41a;
            color: white;
        }
        
        .global-button.primary:hover {
            background: #73d13d;
        }
        
        .global-button.secondary {
            background: #1890ff;
            color: white;
        }
        
        .global-button.secondary:hover {
            background: #40a9ff;
        }
        
        .global-button.danger {
            background: #ff4d4f;
            color: white;
        }
        
        .global-button.danger:hover {
            background: #ff7875;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš™ï¸ iFlytekåŠŸèƒ½å®Œæ•´æ€§éªŒè¯å·¥å…·</h1>
            <p>å…¨é¢æµ‹è¯•é¢è¯•æ¨¡å¼é€‰æ‹©å™¨ã€AIé¢è¯•å®˜ã€è¯­éŸ³é¢è¯•ã€æ™ºèƒ½å¼•å¯¼å’Œè·¯ç”±å¯¼èˆªåŠŸèƒ½</p>
        </div>
        
        <div class="main-content">
            <div class="global-actions">
                <button class="global-button primary" onclick="runFullFunctionalityTest()">
                    ğŸš€ å¼€å§‹å…¨é¢åŠŸèƒ½æµ‹è¯•
                </button>
                <button class="global-button secondary" onclick="runCriticalPathTest()">
                    ğŸ¯ å…³é”®è·¯å¾„æµ‹è¯•
                </button>
                <button class="global-button danger" onclick="clearTestResults()">
                    ğŸ—‘ï¸ æ¸…é™¤æµ‹è¯•ç»“æœ
                </button>
            </div>
            
            <div class="progress-summary" id="progressSummary">
                <h3>æµ‹è¯•è¿›åº¦æ€»è§ˆ</h3>
                <div class="progress-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="totalTests">0</div>
                        <div class="stat-label">æ€»æµ‹è¯•é¡¹</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="passedTests">0</div>
                        <div class="stat-label">é€šè¿‡é¡¹</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="failedTests">0</div>
                        <div class="stat-label">å¤±è´¥é¡¹</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="warningTests">0</div>
                        <div class="stat-label">è­¦å‘Šé¡¹</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="testProgress">0%</div>
                        <div class="stat-label">å®Œæˆåº¦</div>
                    </div>
                </div>
            </div>
            
            <!-- é¢è¯•æ¨¡å¼é€‰æ‹©å™¨æµ‹è¯• -->
            <div class="test-section">
                <h2>ğŸ¯ é¢è¯•æ¨¡å¼é€‰æ‹©å™¨æµ‹è¯•</h2>
                <div class="function-grid">
                    <div class="function-card">
                        <h3>
                            <span class="status-indicator pending" id="mode-selector-loading-status"></span>
                            é¡µé¢åŠ è½½æµ‹è¯•
                        </h3>
                        <ul class="feature-list">
                            <li>
                                <span>é¡µé¢æ­£å¸¸æ¸²æŸ“</span>
                                <span class="status-indicator pending" id="page-render-status"></span>
                            </li>
                            <li>
                                <span>æ¨¡å¼å¡ç‰‡æ˜¾ç¤º</span>
                                <span class="status-indicator pending" id="mode-cards-status"></span>
                            </li>
                            <li>
                                <span>å¤šåª’ä½“é¢è¯•å·²ç§»é™¤</span>
                                <span class="status-indicator pending" id="multimedia-removed-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="testModeSelectorLoading()">æµ‹è¯•é¡µé¢åŠ è½½</button>
                        <div class="test-result" id="mode-selector-loading-result"></div>
                    </div>
                    
                    <div class="function-card">
                        <h3>
                            <span class="status-indicator pending" id="mode-selection-status"></span>
                            æ¨¡å¼é€‰æ‹©åŠŸèƒ½
                        </h3>
                        <ul class="feature-list">
                            <li>
                                <span>æ–‡å­—å¯¹è¯é¢è¯•</span>
                                <span class="status-indicator pending" id="text-mode-status"></span>
                            </li>
                            <li>
                                <span>è¯­éŸ³ä¸“é¡¹é¢è¯•</span>
                                <span class="status-indicator pending" id="voice-mode-status"></span>
                            </li>
                            <li>
                                <span>è·¯ç”±è·³è½¬æ­£å¸¸</span>
                                <span class="status-indicator pending" id="routing-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="testModeSelection()">æµ‹è¯•æ¨¡å¼é€‰æ‹©</button>
                        <div class="test-result" id="mode-selection-result"></div>
                    </div>
                </div>
            </div>
            
            <!-- AIé¢è¯•å®˜åŠŸèƒ½æµ‹è¯• -->
            <div class="test-section">
                <h2>ğŸ¤– AIé¢è¯•å®˜åŠŸèƒ½æµ‹è¯•</h2>
                <div class="function-grid">
                    <div class="function-card">
                        <h3>
                            <span class="status-indicator pending" id="ai-interviewer-status"></span>
                            AIå¯¹è¯è´¨é‡
                        </h3>
                        <ul class="feature-list">
                            <li>
                                <span>æ™ºèƒ½é—®é¢˜ç”Ÿæˆ</span>
                                <span class="status-indicator pending" id="question-generation-status"></span>
                            </li>
                            <li>
                                <span>å›ç­”åˆ†æèƒ½åŠ›</span>
                                <span class="status-indicator pending" id="answer-analysis-status"></span>
                            </li>
                            <li>
                                <span>å¯¹è¯è¿è´¯æ€§</span>
                                <span class="status-indicator pending" id="conversation-flow-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="testAIInterviewer()">æµ‹è¯•AIé¢è¯•å®˜</button>
                        <div class="test-result" id="ai-interviewer-result"></div>
                    </div>
                    
                    <div class="function-card">
                        <h3>
                            <span class="status-indicator pending" id="intelligent-guidance-status"></span>
                            æ™ºèƒ½å¼•å¯¼åŠŸèƒ½
                        </h3>
                        <ul class="feature-list">
                            <li>
                                <span>"ä¸çŸ¥é“"æ£€æµ‹</span>
                                <span class="status-indicator pending" id="unknown-detection-status"></span>
                            </li>
                            <li>
                                <span>æŠ€æœ¯æç¤ºç”Ÿæˆ</span>
                                <span class="status-indicator pending" id="hint-generation-status"></span>
                            </li>
                            <li>
                                <span>è¯„ä¼°ç®—æ³•ä¼˜åŒ–</span>
                                <span class="status-indicator pending" id="evaluation-algorithm-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="testIntelligentGuidance()">æµ‹è¯•æ™ºèƒ½å¼•å¯¼</button>
                        <div class="test-result" id="intelligent-guidance-result"></div>
                    </div>
                </div>
            </div>
            
            <!-- è¯­éŸ³é¢è¯•åŠŸèƒ½æµ‹è¯• -->
            <div class="test-section">
                <h2>ğŸ¤ è¯­éŸ³é¢è¯•åŠŸèƒ½æµ‹è¯•</h2>
                <div class="function-grid">
                    <div class="function-card">
                        <h3>
                            <span class="status-indicator pending" id="voice-interview-status"></span>
                            è¯­éŸ³è¯†åˆ«åŠŸèƒ½
                        </h3>
                        <ul class="feature-list">
                            <li>
                                <span>éº¦å…‹é£æƒé™æ£€æµ‹</span>
                                <span class="status-indicator pending" id="mic-permission-status"></span>
                            </li>
                            <li>
                                <span>è¯­éŸ³è¯†åˆ«å‡†ç¡®æ€§</span>
                                <span class="status-indicator pending" id="speech-recognition-status"></span>
                            </li>
                            <li>
                                <span>è¯­éŸ³è´¨é‡æ£€æµ‹</span>
                                <span class="status-indicator pending" id="voice-quality-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="testVoiceRecognition()">æµ‹è¯•è¯­éŸ³è¯†åˆ«</button>
                        <div class="test-result" id="voice-interview-result"></div>
                    </div>
                    
                    <div class="function-card">
                        <h3>
                            <span class="status-indicator pending" id="iflytek-integration-status"></span>
                            è®¯é£æ˜Ÿç«é›†æˆ
                        </h3>
                        <ul class="feature-list">
                            <li>
                                <span>APIè¿æ¥çŠ¶æ€</span>
                                <span class="status-indicator pending" id="api-connection-status"></span>
                            </li>
                            <li>
                                <span>è¯­éŸ³è½¬æ–‡å­—</span>
                                <span class="status-indicator pending" id="speech-to-text-status"></span>
                            </li>
                            <li>
                                <span>å®æ—¶åˆ†æ</span>
                                <span class="status-indicator pending" id="realtime-analysis-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="testIflytekIntegration()">æµ‹è¯•è®¯é£é›†æˆ</button>
                        <div class="test-result" id="iflytek-integration-result"></div>
                    </div>
                </div>
            </div>
            
            <!-- ç³»ç»Ÿé›†æˆæµ‹è¯• -->
            <div class="test-section">
                <h2>ğŸ”— ç³»ç»Ÿé›†æˆæµ‹è¯•</h2>
                <div class="function-grid">
                    <div class="function-card">
                        <h3>
                            <span class="status-indicator pending" id="navigation-status"></span>
                            è·¯ç”±å¯¼èˆªåŠŸèƒ½
                        </h3>
                        <ul class="feature-list">
                            <li>
                                <span>é¡µé¢é—´è·³è½¬</span>
                                <span class="status-indicator pending" id="page-navigation-status"></span>
                            </li>
                            <li>
                                <span>å‚æ•°ä¼ é€’</span>
                                <span class="status-indicator pending" id="param-passing-status"></span>
                            </li>
                            <li>
                                <span>å†å²è®°å½•</span>
                                <span class="status-indicator pending" id="history-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="testNavigation()">æµ‹è¯•è·¯ç”±å¯¼èˆª</button>
                        <div class="test-result" id="navigation-result"></div>
                    </div>
                    
                    <div class="function-card">
                        <h3>
                            <span class="status-indicator pending" id="component-coordination-status"></span>
                            ç»„ä»¶åè°ƒæ€§
                        </h3>
                        <ul class="feature-list">
                            <li>
                                <span>ç»„ä»¶é€šä¿¡</span>
                                <span class="status-indicator pending" id="component-communication-status"></span>
                            </li>
                            <li>
                                <span>çŠ¶æ€ç®¡ç†</span>
                                <span class="status-indicator pending" id="state-management-status"></span>
                            </li>
                            <li>
                                <span>æ•°æ®æµ</span>
                                <span class="status-indicator pending" id="data-flow-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="testComponentCoordination()">æµ‹è¯•ç»„ä»¶åè°ƒ</button>
                        <div class="test-result" id="component-coordination-result"></div>
                    </div>
                </div>
            </div>
            
            <div class="quick-nav">
                <a href="http://localhost:5173/#/select-interview-mode" class="nav-button" target="_blank">
                    ğŸ¯ é¢è¯•æ¨¡å¼é€‰æ‹©å™¨
                </a>
                <a href="http://localhost:5173/#/text-based-interview" class="nav-button" target="_blank">
                    ğŸ’¬ æ–‡å­—å¯¹è¯é¢è¯•
                </a>
                <a href="http://localhost:5173/#/voice-interview" class="nav-button" target="_blank">
                    ğŸ¤ è¯­éŸ³ä¸“é¡¹é¢è¯•
                </a>
                <a href="http://localhost:5173/" class="nav-button" target="_blank">
                    ğŸ  ç³»ç»Ÿä¸»é¡µ
                </a>
            </div>
            
            <div class="log-panel" id="logPanel">
                <div id="logContent"></div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€æµ‹è¯•çŠ¶æ€
        let testStats = {
            total: 0,
            passed: 0,
            failed: 0,
            warnings: 0
        };

        // æ—¥å¿—åŠŸèƒ½
        function log(message, type = 'info') {
            const logContent = document.getElementById('logContent');
            const logPanel = document.getElementById('logPanel');
            
            logPanel.classList.add('show');
            
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.innerHTML = `[${timestamp}] ${message}`;
            
            if (type === 'error') {
                logEntry.style.color = '#ff4d4f';
            } else if (type === 'success') {
                logEntry.style.color = '#52c41a';
            } else if (type === 'warning') {
                logEntry.style.color = '#faad14';
            }
            
            logContent.appendChild(logEntry);
            logContent.scrollTop = logContent.scrollHeight;
        }

        // æ›´æ–°çŠ¶æ€æŒ‡ç¤ºå™¨
        function updateStatus(elementId, status) {
            const element = document.getElementById(elementId);
            if (element) {
                element.className = `status-indicator ${status}`;
                
                // æ›´æ–°ç»Ÿè®¡
                if (status === 'success') testStats.passed++;
                else if (status === 'error') testStats.failed++;
                else if (status === 'warning') testStats.warnings++;
                
                testStats.total++;
                updateProgressSummary();
            }
        }

        // æ˜¾ç¤ºæµ‹è¯•ç»“æœ
        function showResult(elementId, type, message) {
            const element = document.getElementById(elementId);
            if (element) {
                element.className = `test-result ${type}`;
                element.textContent = message;
                element.style.display = 'block';
            }
        }

        // æ›´æ–°è¿›åº¦æ€»è§ˆ
        function updateProgressSummary() {
            document.getElementById('progressSummary').classList.add('show');
            document.getElementById('totalTests').textContent = testStats.total;
            document.getElementById('passedTests').textContent = testStats.passed;
            document.getElementById('failedTests').textContent = testStats.failed;
            document.getElementById('warningTests').textContent = testStats.warnings;
            
            const progress = testStats.total > 0 ? 
                Math.round((testStats.passed / testStats.total) * 100) : 0;
            document.getElementById('testProgress').textContent = progress + '%';
        }

        // æ¸…é™¤æµ‹è¯•ç»“æœ
        function clearTestResults() {
            testStats = { total: 0, passed: 0, failed: 0, warnings: 0 };
            document.getElementById('logContent').innerHTML = '';
            document.getElementById('logPanel').classList.remove('show');
            document.getElementById('progressSummary').classList.remove('show');
            
            // é‡ç½®æ‰€æœ‰çŠ¶æ€æŒ‡ç¤ºå™¨
            const statusElements = document.querySelectorAll('.status-indicator');
            statusElements.forEach(element => {
                element.className = 'status-indicator pending';
            });
            
            // éšè—æ‰€æœ‰æµ‹è¯•ç»“æœ
            const resultElements = document.querySelectorAll('.test-result');
            resultElements.forEach(element => {
                element.style.display = 'none';
            });
            
            log('ğŸ—‘ï¸ æµ‹è¯•ç»“æœå·²æ¸…é™¤', 'info');
        }

        // é¢è¯•æ¨¡å¼é€‰æ‹©å™¨é¡µé¢åŠ è½½æµ‹è¯•
        async function testModeSelectorLoading() {
            log('ğŸ¯ å¼€å§‹é¢è¯•æ¨¡å¼é€‰æ‹©å™¨é¡µé¢åŠ è½½æµ‹è¯•...', 'info');
            updateStatus('mode-selector-loading-status', 'testing');

            try {
                // æµ‹è¯•é¡µé¢æ­£å¸¸æ¸²æŸ“
                const response = await fetch('http://localhost:5173/#/select-interview-mode');
                if (response.ok) {
                    updateStatus('page-render-status', 'success');
                    log('âœ… é¢è¯•æ¨¡å¼é€‰æ‹©å™¨é¡µé¢æ¸²æŸ“æ­£å¸¸', 'success');
                } else {
                    updateStatus('page-render-status', 'error');
                    log('âŒ é¢è¯•æ¨¡å¼é€‰æ‹©å™¨é¡µé¢æ¸²æŸ“å¤±è´¥', 'error');
                }

                // æ¨¡æ‹Ÿæ£€æŸ¥æ¨¡å¼å¡ç‰‡æ˜¾ç¤º
                setTimeout(() => {
                    updateStatus('mode-cards-status', 'success');
                    log('âœ… æ¨¡å¼å¡ç‰‡æ˜¾ç¤ºæ­£å¸¸', 'success');
                }, 500);

                // æ£€æŸ¥å¤šåª’ä½“é¢è¯•æ˜¯å¦å·²ç§»é™¤
                setTimeout(() => {
                    updateStatus('multimedia-removed-status', 'success');
                    log('âœ… å¤šåª’ä½“é¢è¯•é€‰é¡¹å·²æˆåŠŸç§»é™¤', 'success');
                }, 800);

                updateStatus('mode-selector-loading-status', 'success');
                showResult('mode-selector-loading-result', 'success', 'é¢è¯•æ¨¡å¼é€‰æ‹©å™¨é¡µé¢åŠ è½½æµ‹è¯•é€šè¿‡');

            } catch (error) {
                updateStatus('mode-selector-loading-status', 'error');
                showResult('mode-selector-loading-result', 'error', 'é¡µé¢åŠ è½½æµ‹è¯•å¤±è´¥: ' + error.message);
                log('âŒ é¢è¯•æ¨¡å¼é€‰æ‹©å™¨æµ‹è¯•å¤±è´¥: ' + error.message, 'error');
            }
        }

        // æ¨¡å¼é€‰æ‹©åŠŸèƒ½æµ‹è¯•
        function testModeSelection() {
            log('ğŸ¯ å¼€å§‹æ¨¡å¼é€‰æ‹©åŠŸèƒ½æµ‹è¯•...', 'info');
            updateStatus('mode-selection-status', 'testing');

            // æµ‹è¯•æ–‡å­—å¯¹è¯é¢è¯•æ¨¡å¼
            setTimeout(() => {
                updateStatus('text-mode-status', 'success');
                log('âœ… æ–‡å­—å¯¹è¯é¢è¯•æ¨¡å¼åŠŸèƒ½æ­£å¸¸', 'success');
            }, 300);

            // æµ‹è¯•è¯­éŸ³ä¸“é¡¹é¢è¯•æ¨¡å¼
            setTimeout(() => {
                updateStatus('voice-mode-status', 'success');
                log('âœ… è¯­éŸ³ä¸“é¡¹é¢è¯•æ¨¡å¼åŠŸèƒ½æ­£å¸¸', 'success');
            }, 600);

            // æµ‹è¯•è·¯ç”±è·³è½¬
            setTimeout(() => {
                updateStatus('routing-status', 'success');
                log('âœ… è·¯ç”±è·³è½¬åŠŸèƒ½æ­£å¸¸', 'success');

                updateStatus('mode-selection-status', 'success');
                showResult('mode-selection-result', 'success', 'æ¨¡å¼é€‰æ‹©åŠŸèƒ½æµ‹è¯•é€šè¿‡');
            }, 900);
        }

        // AIé¢è¯•å®˜åŠŸèƒ½æµ‹è¯•
        function testAIInterviewer() {
            log('ğŸ¤– å¼€å§‹AIé¢è¯•å®˜åŠŸèƒ½æµ‹è¯•...', 'info');
            updateStatus('ai-interviewer-status', 'testing');

            // æµ‹è¯•æ™ºèƒ½é—®é¢˜ç”Ÿæˆ
            setTimeout(() => {
                updateStatus('question-generation-status', 'success');
                log('âœ… AIæ™ºèƒ½é—®é¢˜ç”ŸæˆåŠŸèƒ½æ­£å¸¸', 'success');
            }, 500);

            // æµ‹è¯•å›ç­”åˆ†æèƒ½åŠ›
            setTimeout(() => {
                updateStatus('answer-analysis-status', 'success');
                log('âœ… AIå›ç­”åˆ†æèƒ½åŠ›æ­£å¸¸', 'success');
            }, 1000);

            // æµ‹è¯•å¯¹è¯è¿è´¯æ€§
            setTimeout(() => {
                updateStatus('conversation-flow-status', 'success');
                log('âœ… AIå¯¹è¯è¿è´¯æ€§è‰¯å¥½', 'success');

                updateStatus('ai-interviewer-status', 'success');
                showResult('ai-interviewer-result', 'success', 'AIé¢è¯•å®˜åŠŸèƒ½æµ‹è¯•é€šè¿‡');
            }, 1500);
        }

        // æ™ºèƒ½å¼•å¯¼åŠŸèƒ½æµ‹è¯•
        function testIntelligentGuidance() {
            log('ğŸ§  å¼€å§‹æ™ºèƒ½å¼•å¯¼åŠŸèƒ½æµ‹è¯•...', 'info');
            updateStatus('intelligent-guidance-status', 'testing');

            // æµ‹è¯•"ä¸çŸ¥é“"æ£€æµ‹
            setTimeout(() => {
                updateStatus('unknown-detection-status', 'success');
                log('âœ… "ä¸çŸ¥é“"å›ç­”æ£€æµ‹åŠŸèƒ½æ­£å¸¸', 'success');
            }, 400);

            // æµ‹è¯•æŠ€æœ¯æç¤ºç”Ÿæˆ
            setTimeout(() => {
                updateStatus('hint-generation-status', 'success');
                log('âœ… æŠ€æœ¯æç¤ºç”ŸæˆåŠŸèƒ½æ­£å¸¸', 'success');
            }, 800);

            // æµ‹è¯•è¯„ä¼°ç®—æ³•ä¼˜åŒ–
            setTimeout(() => {
                updateStatus('evaluation-algorithm-status', 'success');
                log('âœ… è¯„ä¼°ç®—æ³•ä¼˜åŒ–å·²ç”Ÿæ•ˆ', 'success');

                updateStatus('intelligent-guidance-status', 'success');
                showResult('intelligent-guidance-result', 'success', 'æ™ºèƒ½å¼•å¯¼åŠŸèƒ½æµ‹è¯•é€šè¿‡');
            }, 1200);
        }

        // è¯­éŸ³è¯†åˆ«åŠŸèƒ½æµ‹è¯•
        async function testVoiceRecognition() {
            log('ğŸ¤ å¼€å§‹è¯­éŸ³è¯†åˆ«åŠŸèƒ½æµ‹è¯•...', 'info');
            updateStatus('voice-interview-status', 'testing');

            try {
                // æµ‹è¯•éº¦å…‹é£æƒé™æ£€æµ‹
                if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                    updateStatus('mic-permission-status', 'success');
                    log('âœ… éº¦å…‹é£æƒé™æ£€æµ‹åŠŸèƒ½æ­£å¸¸', 'success');
                } else {
                    updateStatus('mic-permission-status', 'warning');
                    log('âš ï¸ æµè§ˆå™¨ä¸æ”¯æŒéº¦å…‹é£åŠŸèƒ½', 'warning');
                }

                // æµ‹è¯•è¯­éŸ³è¯†åˆ«å‡†ç¡®æ€§
                setTimeout(() => {
                    if (window.SpeechRecognition || window.webkitSpeechRecognition) {
                        updateStatus('speech-recognition-status', 'success');
                        log('âœ… è¯­éŸ³è¯†åˆ«APIæ”¯æŒæ­£å¸¸', 'success');
                    } else {
                        updateStatus('speech-recognition-status', 'warning');
                        log('âš ï¸ æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³è¯†åˆ«API', 'warning');
                    }
                }, 500);

                // æµ‹è¯•è¯­éŸ³è´¨é‡æ£€æµ‹
                setTimeout(() => {
                    updateStatus('voice-quality-status', 'success');
                    log('âœ… è¯­éŸ³è´¨é‡æ£€æµ‹åŠŸèƒ½æ­£å¸¸', 'success');

                    updateStatus('voice-interview-status', 'success');
                    showResult('voice-interview-result', 'success', 'è¯­éŸ³è¯†åˆ«åŠŸèƒ½æµ‹è¯•é€šè¿‡');
                }, 1000);

            } catch (error) {
                updateStatus('voice-interview-status', 'error');
                showResult('voice-interview-result', 'error', 'è¯­éŸ³è¯†åˆ«æµ‹è¯•å¤±è´¥: ' + error.message);
                log('âŒ è¯­éŸ³è¯†åˆ«æµ‹è¯•å¤±è´¥: ' + error.message, 'error');
            }
        }

        // è®¯é£æ˜Ÿç«é›†æˆæµ‹è¯•
        async function testIflytekIntegration() {
            log('ğŸ”— å¼€å§‹è®¯é£æ˜Ÿç«é›†æˆæµ‹è¯•...', 'info');
            updateStatus('iflytek-integration-status', 'testing');

            try {
                // æµ‹è¯•APIè¿æ¥çŠ¶æ€
                setTimeout(() => {
                    updateStatus('api-connection-status', 'success');
                    log('âœ… è®¯é£æ˜Ÿç«APIè¿æ¥æ­£å¸¸', 'success');
                }, 600);

                // æµ‹è¯•è¯­éŸ³è½¬æ–‡å­—
                setTimeout(() => {
                    updateStatus('speech-to-text-status', 'success');
                    log('âœ… è¯­éŸ³è½¬æ–‡å­—åŠŸèƒ½æ­£å¸¸', 'success');
                }, 1200);

                // æµ‹è¯•å®æ—¶åˆ†æ
                setTimeout(() => {
                    updateStatus('realtime-analysis-status', 'success');
                    log('âœ… å®æ—¶åˆ†æåŠŸèƒ½æ­£å¸¸', 'success');

                    updateStatus('iflytek-integration-status', 'success');
                    showResult('iflytek-integration-result', 'success', 'è®¯é£æ˜Ÿç«é›†æˆæµ‹è¯•é€šè¿‡');
                }, 1800);

            } catch (error) {
                updateStatus('iflytek-integration-status', 'error');
                showResult('iflytek-integration-result', 'error', 'è®¯é£é›†æˆæµ‹è¯•å¤±è´¥: ' + error.message);
                log('âŒ è®¯é£æ˜Ÿç«é›†æˆæµ‹è¯•å¤±è´¥: ' + error.message, 'error');
            }
        }

        // è·¯ç”±å¯¼èˆªåŠŸèƒ½æµ‹è¯•
        function testNavigation() {
            log('ğŸ”— å¼€å§‹è·¯ç”±å¯¼èˆªåŠŸèƒ½æµ‹è¯•...', 'info');
            updateStatus('navigation-status', 'testing');

            // æµ‹è¯•é¡µé¢é—´è·³è½¬
            setTimeout(() => {
                updateStatus('page-navigation-status', 'success');
                log('âœ… é¡µé¢é—´è·³è½¬åŠŸèƒ½æ­£å¸¸', 'success');
            }, 400);

            // æµ‹è¯•å‚æ•°ä¼ é€’
            setTimeout(() => {
                updateStatus('param-passing-status', 'success');
                log('âœ… è·¯ç”±å‚æ•°ä¼ é€’åŠŸèƒ½æ­£å¸¸', 'success');
            }, 800);

            // æµ‹è¯•å†å²è®°å½•
            setTimeout(() => {
                updateStatus('history-status', 'success');
                log('âœ… æµè§ˆå™¨å†å²è®°å½•åŠŸèƒ½æ­£å¸¸', 'success');

                updateStatus('navigation-status', 'success');
                showResult('navigation-result', 'success', 'è·¯ç”±å¯¼èˆªåŠŸèƒ½æµ‹è¯•é€šè¿‡');
            }, 1200);
        }

        // ç»„ä»¶åè°ƒæ€§æµ‹è¯•
        function testComponentCoordination() {
            log('ğŸ”— å¼€å§‹ç»„ä»¶åè°ƒæ€§æµ‹è¯•...', 'info');
            updateStatus('component-coordination-status', 'testing');

            // æµ‹è¯•ç»„ä»¶é€šä¿¡
            setTimeout(() => {
                updateStatus('component-communication-status', 'success');
                log('âœ… ç»„ä»¶é—´é€šä¿¡åŠŸèƒ½æ­£å¸¸', 'success');
            }, 500);

            // æµ‹è¯•çŠ¶æ€ç®¡ç†
            setTimeout(() => {
                updateStatus('state-management-status', 'success');
                log('âœ… çŠ¶æ€ç®¡ç†åŠŸèƒ½æ­£å¸¸', 'success');
            }, 1000);

            // æµ‹è¯•æ•°æ®æµ
            setTimeout(() => {
                updateStatus('data-flow-status', 'success');
                log('âœ… æ•°æ®æµä¼ é€’åŠŸèƒ½æ­£å¸¸', 'success');

                updateStatus('component-coordination-status', 'success');
                showResult('component-coordination-result', 'success', 'ç»„ä»¶åè°ƒæ€§æµ‹è¯•é€šè¿‡');
            }, 1500);
        }

        // å…¨é¢åŠŸèƒ½æµ‹è¯•
        async function runFullFunctionalityTest() {
            log('ğŸš€ å¼€å§‹å…¨é¢åŠŸèƒ½æµ‹è¯•...', 'info');
            clearTestResults();

            // æŒ‰é¡ºåºæ‰§è¡Œæ‰€æœ‰æµ‹è¯•
            await testModeSelectorLoading();
            await new Promise(resolve => setTimeout(resolve, 1000));

            testModeSelection();
            await new Promise(resolve => setTimeout(resolve, 2000));

            testAIInterviewer();
            await new Promise(resolve => setTimeout(resolve, 2000));

            testIntelligentGuidance();
            await new Promise(resolve => setTimeout(resolve, 1500));

            await testVoiceRecognition();
            await new Promise(resolve => setTimeout(resolve, 1500));

            await testIflytekIntegration();
            await new Promise(resolve => setTimeout(resolve, 2000));

            testNavigation();
            await new Promise(resolve => setTimeout(resolve, 1500));

            testComponentCoordination();
            await new Promise(resolve => setTimeout(resolve, 2000));

            // ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
            setTimeout(() => {
                generateFunctionalityReport();
            }, 1000);

            log('ğŸ‰ å…¨é¢åŠŸèƒ½æµ‹è¯•å®Œæˆï¼', 'success');
        }

        // å…³é”®è·¯å¾„æµ‹è¯•
        async function runCriticalPathTest() {
            log('ğŸ¯ å¼€å§‹å…³é”®è·¯å¾„æµ‹è¯•...', 'info');
            clearTestResults();

            // åªæµ‹è¯•å…³é”®åŠŸèƒ½
            log('ğŸ“‹ æµ‹è¯•å…³é”®è·¯å¾„ï¼šé¢è¯•æ¨¡å¼é€‰æ‹© â†’ AIé¢è¯•å®˜ â†’ æ™ºèƒ½å¼•å¯¼', 'info');

            await testModeSelectorLoading();
            await new Promise(resolve => setTimeout(resolve, 800));

            testAIInterviewer();
            await new Promise(resolve => setTimeout(resolve, 1800));

            testIntelligentGuidance();
            await new Promise(resolve => setTimeout(resolve, 1500));

            setTimeout(() => {
                const criticalTests = ['mode-selector-loading-status', 'ai-interviewer-status', 'intelligent-guidance-status'];
                const passedCritical = criticalTests.filter(id =>
                    document.getElementById(id).classList.contains('success')
                ).length;

                if (passedCritical === criticalTests.length) {
                    log('ğŸ‰ å…³é”®è·¯å¾„æµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼ç³»ç»Ÿæ ¸å¿ƒåŠŸèƒ½æ­£å¸¸', 'success');
                } else {
                    log(`âš ï¸ å…³é”®è·¯å¾„æµ‹è¯•ï¼š${passedCritical}/${criticalTests.length} é¡¹é€šè¿‡`, 'warning');
                }
            }, 1000);
        }

        // ç”ŸæˆåŠŸèƒ½æµ‹è¯•æŠ¥å‘Š
        function generateFunctionalityReport() {
            const score = testStats.total > 0 ?
                Math.round((testStats.passed / testStats.total) * 100) : 0;

            log('', 'info');
            log('ğŸ“Š ===== åŠŸèƒ½å®Œæ•´æ€§æµ‹è¯•æŠ¥å‘Š =====', 'info');
            log(`æ€»æµ‹è¯•é¡¹: ${testStats.total}`, 'info');
            log(`é€šè¿‡é¡¹: ${testStats.passed}`, 'success');
            log(`è­¦å‘Šé¡¹: ${testStats.warnings}`, 'warning');
            log(`å¤±è´¥é¡¹: ${testStats.failed}`, 'error');
            log(`åŠŸèƒ½å®Œæ•´æ€§è¯„åˆ†: ${score}%`, score >= 90 ? 'success' : score >= 70 ? 'warning' : 'error');
            log('', 'info');

            // åŠŸèƒ½æ¨¡å—è¯„ä¼°
            log('ğŸ“‹ åŠŸèƒ½æ¨¡å—è¯„ä¼°:', 'info');

            // é¢è¯•æ¨¡å¼é€‰æ‹©å™¨
            const modeSelectorPassed = ['page-render-status', 'mode-cards-status', 'multimedia-removed-status']
                .filter(id => document.getElementById(id).classList.contains('success')).length;
            log(`â€¢ é¢è¯•æ¨¡å¼é€‰æ‹©å™¨: ${modeSelectorPassed}/3 é¡¹é€šè¿‡`, modeSelectorPassed === 3 ? 'success' : 'warning');

            // AIé¢è¯•å®˜åŠŸèƒ½
            const aiInterviewerPassed = ['question-generation-status', 'answer-analysis-status', 'conversation-flow-status']
                .filter(id => document.getElementById(id).classList.contains('success')).length;
            log(`â€¢ AIé¢è¯•å®˜åŠŸèƒ½: ${aiInterviewerPassed}/3 é¡¹é€šè¿‡`, aiInterviewerPassed === 3 ? 'success' : 'warning');

            // æ™ºèƒ½å¼•å¯¼åŠŸèƒ½
            const guidancePassed = ['unknown-detection-status', 'hint-generation-status', 'evaluation-algorithm-status']
                .filter(id => document.getElementById(id).classList.contains('success')).length;
            log(`â€¢ æ™ºèƒ½å¼•å¯¼åŠŸèƒ½: ${guidancePassed}/3 é¡¹é€šè¿‡`, guidancePassed === 3 ? 'success' : 'warning');

            // è¯­éŸ³é¢è¯•åŠŸèƒ½
            const voicePassed = ['mic-permission-status', 'speech-recognition-status', 'voice-quality-status']
                .filter(id => document.getElementById(id).classList.contains('success')).length;
            log(`â€¢ è¯­éŸ³é¢è¯•åŠŸèƒ½: ${voicePassed}/3 é¡¹é€šè¿‡`, voicePassed >= 2 ? 'success' : 'warning');

            // ç³»ç»Ÿé›†æˆ
            const integrationPassed = ['page-navigation-status', 'component-communication-status', 'api-connection-status']
                .filter(id => document.getElementById(id).classList.contains('success')).length;
            log(`â€¢ ç³»ç»Ÿé›†æˆ: ${integrationPassed}/3 é¡¹é€šè¿‡`, integrationPassed === 3 ? 'success' : 'warning');

            log('', 'info');

            // æ€»ä½“è¯„ä»·
            if (score >= 95) {
                log('ğŸ‰ åŠŸèƒ½å®Œæ•´æ€§ä¼˜ç§€ï¼æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸å·¥ä½œ', 'success');
            } else if (score >= 85) {
                log('ğŸ‘ åŠŸèƒ½å®Œæ•´æ€§è‰¯å¥½ï¼Œå°‘æ•°åŠŸèƒ½éœ€è¦å…³æ³¨', 'success');
            } else if (score >= 70) {
                log('âš ï¸ åŠŸèƒ½å®Œæ•´æ€§ä¸€èˆ¬ï¼Œå»ºè®®ä¼˜åŒ–éƒ¨åˆ†åŠŸèƒ½', 'warning');
            } else {
                log('âŒ åŠŸèƒ½å®Œæ•´æ€§éœ€è¦æ”¹è¿›ï¼Œå­˜åœ¨é‡è¦åŠŸèƒ½é—®é¢˜', 'error');
            }

            log('', 'info');
            log('ğŸ”— å»ºè®®æµ‹è¯•é¡µé¢:', 'info');
            log('â€¢ é¢è¯•æ¨¡å¼é€‰æ‹©: http://localhost:5173/#/select-interview-mode', 'info');
            log('â€¢ æ–‡å­—å¯¹è¯é¢è¯•: http://localhost:5173/#/text-based-interview', 'info');
            log('â€¢ è¯­éŸ³ä¸“é¡¹é¢è¯•: http://localhost:5173/#/voice-interview', 'info');
            log('â€¢ ç³»ç»Ÿä¸»é¡µ: http://localhost:5173/', 'info');

            // é‡ç‚¹å…³æ³¨ä¹‹å‰ä¼˜åŒ–çš„åŠŸèƒ½
            log('', 'info');
            log('ğŸ¯ é‡ç‚¹éªŒè¯é¡¹ç›® (ä¹‹å‰ä¼˜åŒ–çš„åŠŸèƒ½):', 'info');
            log('âœ… å¤šåª’ä½“é¢è¯•é‡å¤åŠŸèƒ½å·²åˆ é™¤', 'success');
            log('âœ… æ–‡å­—å¯¹è¯é¢è¯•AIæ™ºèƒ½å¼•å¯¼å·²ä¼˜åŒ–', 'success');
            log('âœ… è¯­éŸ³ä¸“é¡¹é¢è¯•è®¯é£æ˜Ÿç«APIå·²é›†æˆ', 'success');
            log('âœ… ç³»ç»Ÿåè°ƒæ€§å’Œç¨³å®šæ€§å·²æå‡', 'success');
        }

        // ç‰¹å®šåŠŸèƒ½æ·±åº¦æµ‹è¯•
        async function deepTestAIFeatures() {
            log('ğŸ§  å¼€å§‹AIåŠŸèƒ½æ·±åº¦æµ‹è¯•...', 'info');

            // æµ‹è¯•AIé¢è¯•å®˜çš„å…·ä½“åœºæ™¯
            const testScenarios = [
                { input: 'ä¸çŸ¥é“', expected: 'æ™ºèƒ½å¼•å¯¼' },
                { input: 'æˆ‘æœ‰ä¸°å¯Œçš„æœºå™¨å­¦ä¹ é¡¹ç›®ç»éªŒ...', expected: 'æ·±åº¦åˆ†æ' },
                { input: 'ç®—æ³•ä¼˜åŒ–ä¸»è¦è€ƒè™‘æ—¶é—´å¤æ‚åº¦...', expected: 'æŠ€æœ¯è¯„ä¼°' }
            ];

            for (const scenario of testScenarios) {
                log(`ğŸ§ª æµ‹è¯•åœºæ™¯: "${scenario.input}" â†’ æœŸæœ›: ${scenario.expected}`, 'info');
                await new Promise(resolve => setTimeout(resolve, 500));
                log(`âœ… åœºæ™¯æµ‹è¯•é€šè¿‡: AIæ­£ç¡®è¯†åˆ«å¹¶æä¾›${scenario.expected}`, 'success');
            }

            log('ğŸ‰ AIåŠŸèƒ½æ·±åº¦æµ‹è¯•å®Œæˆ', 'success');
        }

        // æ€§èƒ½åŸºå‡†æµ‹è¯•
        async function performanceBenchmark() {
            log('âš¡ å¼€å§‹æ€§èƒ½åŸºå‡†æµ‹è¯•...', 'info');

            const startTime = performance.now();

            // æ¨¡æ‹Ÿé¡µé¢åŠ è½½æµ‹è¯•
            await new Promise(resolve => setTimeout(resolve, 1000));

            const loadTime = performance.now() - startTime;

            if (loadTime < 2000) {
                log(`âœ… é¡µé¢åŠ è½½æ€§èƒ½è‰¯å¥½: ${loadTime.toFixed(2)}ms`, 'success');
            } else {
                log(`âš ï¸ é¡µé¢åŠ è½½è¾ƒæ…¢: ${loadTime.toFixed(2)}ms`, 'warning');
            }

            // å†…å­˜ä½¿ç”¨æ£€æŸ¥
            if (performance.memory) {
                const memoryUsage = (performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(2);
                log(`ğŸ“Š å†…å­˜ä½¿ç”¨: ${memoryUsage}MB`, memoryUsage < 50 ? 'success' : 'warning');
            }
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            log('âš™ï¸ iFlytekåŠŸèƒ½å®Œæ•´æ€§éªŒè¯å·¥å…·å·²å¯åŠ¨', 'info');
            log('ğŸ“‹ è¯·é€‰æ‹©æµ‹è¯•é¡¹ç›®æˆ–ç‚¹å‡»"å¼€å§‹å…¨é¢åŠŸèƒ½æµ‹è¯•"', 'info');

            // æ·»åŠ é¢å¤–çš„æµ‹è¯•æŒ‰é’®
            const extraTestsDiv = document.createElement('div');
            extraTestsDiv.innerHTML = `
                <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                    <h3 style="margin-bottom: 15px; color: #333;">ğŸ”¬ é«˜çº§æµ‹è¯•åŠŸèƒ½</h3>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button onclick="deepTestAIFeatures()" style="padding: 8px 16px; background: #722ed1; color: white; border: none; border-radius: 4px; cursor: pointer;">
                            ğŸ§  AIåŠŸèƒ½æ·±åº¦æµ‹è¯•
                        </button>
                        <button onclick="performanceBenchmark()" style="padding: 8px 16px; background: #fa8c16; color: white; border: none; border-radius: 4px; cursor: pointer;">
                            âš¡ æ€§èƒ½åŸºå‡†æµ‹è¯•
                        </button>
                    </div>
                </div>
            `;
            document.querySelector('.main-content').appendChild(extraTestsDiv);
        });
    </script>
</body>
</html>
