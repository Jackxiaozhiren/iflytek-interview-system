<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼ä¸šç®¡ç†ç•Œé¢è¯Šæ–­è„šæœ¬</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .diagnostic-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .diagnostic-title {
            color: #1890ff;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .diagnostic-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .diagnostic-button {
            background: #1890ff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            margin: 8px;
            font-size: 14px;
        }
        
        .diagnostic-button:hover {
            background: #0066cc;
        }
        
        .code-block {
            background: #f6f8fa;
            border: 1px solid #e1e4e8;
            padding: 15px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 12px;
            margin: 10px 0;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        
        .highlight {
            background: #fff2e8;
            padding: 2px 4px;
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <div class="diagnostic-container">
        <h1 class="diagnostic-title">ğŸ” ä¼ä¸šç®¡ç†ç•Œé¢å…¨é¢è¯Šæ–­å·¥å…·</h1>
        
        <div class="diagnostic-section">
            <h3>ğŸš€ å¿«é€Ÿè®¿é—®</h3>
            <button class="diagnostic-button" onclick="window.open('http://localhost:5173/enterprise', '_blank')">
                æ‰“å¼€ä¼ä¸šç®¡ç†ç•Œé¢
            </button>
        </div>
        
        <div class="diagnostic-section">
            <h3>ğŸ” å…¨é¢è¯Šæ–­è„šæœ¬</h3>
            <p>è¯·åœ¨ä¼ä¸šç®¡ç†ç•Œé¢çš„æ§åˆ¶å°ä¸­è¿è¡Œä»¥ä¸‹è„šæœ¬ï¼š</p>
            
            <div class="code-block">
// å…¨é¢è¯Šæ–­ä¼ä¸šç®¡ç†ç•Œé¢
function fullDiagnostic() {
    console.log('ğŸ” å¼€å§‹å…¨é¢è¯Šæ–­ä¼ä¸šç®¡ç†ç•Œé¢...');
    console.log('=====================================');
    
    // 1. æ£€æŸ¥é¡µé¢åŸºæœ¬ä¿¡æ¯
    console.log('ğŸ“„ é¡µé¢åŸºæœ¬ä¿¡æ¯:');
    console.log('- URL:', window.location.href);
    console.log('- æ ‡é¢˜:', document.title);
    console.log('- é¡µé¢åŠ è½½çŠ¶æ€:', document.readyState);
    
    // 2. æŸ¥æ‰¾æ‰€æœ‰å¯èƒ½çš„æ´å¯Ÿç›¸å…³å…ƒç´ 
    console.log('\nğŸ” æŸ¥æ‰¾æ´å¯Ÿç›¸å…³å…ƒç´ :');
    const insightSelectors = [
        '.insights-section',
        '.insight-section', 
        '[class*="insight"]',
        '[class*="æ´å¯Ÿ"]',
        '[class*="AI"]'
    ];
    
    insightSelectors.forEach(selector => {
        const elements = document.querySelectorAll(selector);
        console.log(`- ${selector}: æ‰¾åˆ° ${elements.length} ä¸ªå…ƒç´ `);
        if (elements.length > 0) {
            elements.forEach((el, index) => {
                console.log(`  å…ƒç´  ${index + 1}:`, el.className, el.textContent?.substring(0, 50) + '...');
            });
        }
    });
    
    // 3. æŸ¥æ‰¾åŒ…å«"AIæ™ºèƒ½æ´å¯Ÿ"æ–‡æœ¬çš„å…ƒç´ 
    console.log('\nğŸ“ æŸ¥æ‰¾åŒ…å«"AIæ™ºèƒ½æ´å¯Ÿ"æ–‡æœ¬çš„å…ƒç´ :');
    const allElements = document.querySelectorAll('*');
    const aiInsightElements = [];
    allElements.forEach(el => {
        if (el.textContent && el.textContent.includes('AIæ™ºèƒ½æ´å¯Ÿ')) {
            aiInsightElements.push(el);
        }
    });
    console.log(`- æ‰¾åˆ° ${aiInsightElements.length} ä¸ªåŒ…å«"AIæ™ºèƒ½æ´å¯Ÿ"çš„å…ƒç´ `);
    aiInsightElements.forEach((el, index) => {
        console.log(`  å…ƒç´  ${index + 1}:`, {
            tagName: el.tagName,
            className: el.className,
            id: el.id,
            textContent: el.textContent?.substring(0, 100) + '...'
        });
    });
    
    // 4. æ£€æŸ¥æ‰€æœ‰æ¨¡å—section
    console.log('\nğŸ“¦ æ£€æŸ¥æ‰€æœ‰æ¨¡å—section:');
    const moduleSections = document.querySelectorAll('.module-section');
    console.log(`- æ‰¾åˆ° ${moduleSections.length} ä¸ªæ¨¡å—section`);
    moduleSections.forEach((section, index) => {
        const title = section.querySelector('h3')?.textContent || 'æœªçŸ¥æ ‡é¢˜';
        const styles = window.getComputedStyle(section);
        console.log(`  æ¨¡å— ${index + 1}: "${title}"`, {
            className: section.className,
            marginBottom: styles.marginBottom,
            padding: styles.padding
        });
    });
    
    // 5. æ£€æŸ¥Vueç»„ä»¶æ˜¯å¦æ­£ç¡®æŒ‚è½½
    console.log('\nâš›ï¸ æ£€æŸ¥Vueç»„ä»¶çŠ¶æ€:');
    const app = document.querySelector('#app');
    if (app) {
        console.log('- Vueåº”ç”¨å®¹å™¨å­˜åœ¨');
        console.log('- å­å…ƒç´ æ•°é‡:', app.children.length);
        console.log('- ä¸»è¦å†…å®¹åŒºåŸŸ:', app.querySelector('.ai-main') ? 'å­˜åœ¨' : 'ä¸å­˜åœ¨');
        console.log('- ä¼ä¸šç®¡ç†ç•Œé¢:', app.querySelector('.enterprise-dashboard') ? 'å­˜åœ¨' : 'ä¸å­˜åœ¨');
    } else {
        console.log('âŒ Vueåº”ç”¨å®¹å™¨ä¸å­˜åœ¨');
    }
    
    // 6. æ£€æŸ¥CSSæ ·å¼åŠ è½½
    console.log('\nğŸ¨ æ£€æŸ¥CSSæ ·å¼åŠ è½½:');
    const stylesheets = document.querySelectorAll('link[rel="stylesheet"], style');
    console.log(`- æ ·å¼è¡¨æ•°é‡: ${stylesheets.length}`);
    
    // æ£€æŸ¥å…³é”®CSSå˜é‡
    const rootStyles = getComputedStyle(document.documentElement);
    const iflytekPrimary = rootStyles.getPropertyValue('--iflytek-primary');
    console.log('- iFlytekä¸»è‰²è°ƒ:', iflytekPrimary || 'æœªå®šä¹‰');
    
    // 7. æ£€æŸ¥JavaScripté”™è¯¯
    console.log('\nğŸ› JavaScripté”™è¯¯æ£€æŸ¥:');
    console.log('- æ§åˆ¶å°é”™è¯¯è¯·æŸ¥çœ‹ä¸Šæ–¹çº¢è‰²ä¿¡æ¯');
    
    // 8. ç”Ÿæˆä¿®å¤å»ºè®®
    console.log('\nğŸ’¡ ä¿®å¤å»ºè®®:');
    if (aiInsightElements.length === 0) {
        console.log('âŒ æœªæ‰¾åˆ°"AIæ™ºèƒ½æ´å¯Ÿ"æ¨¡å—ï¼Œå¯èƒ½åŸå› :');
        console.log('  1. ç»„ä»¶æœªæ­£ç¡®æ¸²æŸ“');
        console.log('  2. æ–‡æœ¬å†…å®¹ä¸åŒ¹é…');
        console.log('  3. ç»„ä»¶åŠ è½½å¤±è´¥');
    } else {
        console.log('âœ… æ‰¾åˆ°"AIæ™ºèƒ½æ´å¯Ÿ"ç›¸å…³å…ƒç´ ');
        console.log('  è¯·æ£€æŸ¥è¿™äº›å…ƒç´ çš„CSSç±»åå’Œæ ·å¼');
    }
    
    console.log('\n=====================================');
    console.log('ğŸ” è¯Šæ–­å®Œæˆï¼è¯·æŸ¥çœ‹ä¸Šæ–¹è¯¦ç»†ä¿¡æ¯ã€‚');
    
    return {
        pageInfo: {
            url: window.location.href,
            title: document.title,
            readyState: document.readyState
        },
        aiInsightElements: aiInsightElements.length,
        moduleSections: moduleSections.length,
        vueApp: !!app,
        enterpriseDashboard: !!app?.querySelector('.enterprise-dashboard')
    };
}

// è¿è¡Œè¯Šæ–­
fullDiagnostic();
            </div>
            
            <button class="diagnostic-button" onclick="copyDiagnosticScript()">
                å¤åˆ¶è¯Šæ–­è„šæœ¬
            </button>
        </div>
        
        <div class="diagnostic-section">
            <h3>ğŸ› ï¸ å¿«é€Ÿä¿®å¤è„šæœ¬</h3>
            <p>å¦‚æœè¯Šæ–­å‘ç°é—®é¢˜ï¼Œå¯ä»¥å°è¯•è¿è¡Œä»¥ä¸‹ä¿®å¤è„šæœ¬ï¼š</p>
            
            <div class="code-block">
// å¿«é€Ÿä¿®å¤è„šæœ¬
function quickFix() {
    console.log('ğŸ› ï¸ å¼€å§‹å¿«é€Ÿä¿®å¤...');
    
    // å¼ºåˆ¶åˆ·æ–°é¡µé¢
    console.log('1. å‡†å¤‡å¼ºåˆ¶åˆ·æ–°é¡µé¢...');
    setTimeout(() => {
        window.location.reload(true);
    }, 3000);
    
    console.log('â° 3ç§’åå°†å¼ºåˆ¶åˆ·æ–°é¡µé¢...');
}

// è¿è¡Œå¿«é€Ÿä¿®å¤
// quickFix();
            </div>
            
            <button class="diagnostic-button" onclick="copyQuickFixScript()">
                å¤åˆ¶å¿«é€Ÿä¿®å¤è„šæœ¬
            </button>
        </div>
        
        <div class="diagnostic-section">
            <h3>ğŸ“‹ æ‰‹åŠ¨æ£€æŸ¥æ¸…å•</h3>
            <div style="background: #e6f7ff; padding: 15px; border-radius: 4px; margin: 10px 0;">
                <h4>è¯·åœ¨ä¼ä¸šç®¡ç†ç•Œé¢ä¸­æ‰‹åŠ¨æ£€æŸ¥ï¼š</h4>
                <ul>
                    <li>â–¡ é¡µé¢æ˜¯å¦å®Œå…¨åŠ è½½ï¼ˆæ²¡æœ‰ç™½å±æˆ–åŠ è½½ä¸­çŠ¶æ€ï¼‰</li>
                    <li>â–¡ æ˜¯å¦èƒ½çœ‹åˆ°"ä¼ä¸šæ‹›è˜ä¸­å¿ƒ"æ ‡é¢˜</li>
                    <li>â–¡ æ˜¯å¦èƒ½çœ‹åˆ°"æ‹›è˜æ•°æ®æ¦‚è§ˆ"éƒ¨åˆ†</li>
                    <li>â–¡ é¡µé¢åº•éƒ¨æ˜¯å¦æœ‰"AIæ™ºèƒ½æ´å¯Ÿ"ç›¸å…³å†…å®¹</li>
                    <li>â–¡ æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯</li>
                    <li>â–¡ ç½‘ç»œé¢æ¿æ˜¯å¦æœ‰å¤±è´¥çš„è¯·æ±‚</li>
                </ul>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 30px; padding: 20px; background: #fff2f0; border-radius: 8px;">
            <h3 style="color: #ff4d4f; margin-bottom: 10px;">âš ï¸ é‡è¦æç¤º</h3>
            <p style="color: #64748b; margin: 0;">
                è¯·å…ˆè¿è¡Œè¯Šæ–­è„šæœ¬ï¼Œç„¶åå°†å®Œæ•´çš„æ§åˆ¶å°è¾“å‡ºå‘é€ç»™æˆ‘ã€‚<br>
                è¿™å°†å¸®åŠ©æˆ‘å‡†ç¡®å®šä½é—®é¢˜å¹¶æä¾›é’ˆå¯¹æ€§çš„è§£å†³æ–¹æ¡ˆã€‚
            </p>
        </div>
    </div>

    <script>
        function copyDiagnosticScript() {
            const scriptText = document.querySelectorAll('.code-block')[0].textContent;
            navigator.clipboard.writeText(scriptText).then(function() {
                alert('è¯Šæ–­è„šæœ¬å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼è¯·åœ¨ä¼ä¸šç®¡ç†ç•Œé¢çš„æ§åˆ¶å°ä¸­ç²˜è´´è¿è¡Œã€‚');
            });
        }
        
        function copyQuickFixScript() {
            const scriptText = document.querySelectorAll('.code-block')[1].textContent;
            navigator.clipboard.writeText(scriptText).then(function() {
                alert('å¿«é€Ÿä¿®å¤è„šæœ¬å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            });
        }
    </script>
</body>
</html>
