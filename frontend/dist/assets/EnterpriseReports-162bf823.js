import{_ as Ve,S as Te,r as f,h as Ne,a2 as $e,o as Ue,Y as Ee,am as Pe,i as p,j as Be,k as Ge,n as l,p as e,w as a,ap as d,N as u,a7 as Fe,M as o,a9 as Q,E as Y,G as F,ah as Z,W as M,z as m,t as N,A as Me,aj as Oe,as as je,Z as $}from"./index-b6a2842e.js";const qe={class:"enterprise-reports"},Le={class:"page-header"},We={class:"header-content"},He={class:"header-left"},Qe={class:"header-actions"},Ye={class:"time-filter-section"},Ze={class:"filter-actions"},Je={class:"metrics-section"},Ke={class:"metric-content"},Xe={class:"metric-icon interviews"},et={class:"metric-info"},tt={class:"metric-number"},at={class:"metric-trend positive"},lt={class:"metric-content"},st={class:"metric-icon candidates"},nt={class:"metric-info"},ot={class:"metric-number"},it={class:"metric-trend positive"},rt={class:"metric-content"},dt={class:"metric-icon pass-rate"},ut={class:"metric-info"},ct={class:"metric-number"},pt={class:"metric-content"},_t={class:"metric-icon avg-score"},ft={class:"metric-info"},mt={class:"metric-number"},vt={class:"metric-trend positive"},gt={class:"charts-section"},ht={class:"card-header"},yt={class:"card-header"},bt={class:"card-header"},wt={class:"card-header"},Ct={class:"data-table-section"},kt={class:"card-header"},xt={class:"header-actions"},It={class:"pagination-section"},Rt={__name:"EnterpriseReports",setup(St){const U=Te(),J=je,S=f([]),y=f("all"),b=f("all"),E=f("comprehensive"),w=f("month"),C=f(""),D=f(1),P=f(20),v=Ne({totalInterviews:1834,interviewGrowth:12.5,totalCandidates:2456,candidateGrowth:8.3,passRate:68.5,passRateChange:2.1,avgScore:85.6,scoreImprovement:3.2}),O=f(),j=f(),q=f(),L=f(),B=f([{candidateName:"å¼ ä¸‰",position:"å‰ç«¯å·¥ç¨‹å¸ˆ",domain:"ai",interviewDate:"2024-01-15",interviewer:"æŽé¢è¯•å®˜",score:88,status:"passed",duration:"45åˆ†é’Ÿ"},{candidateName:"æŽå››",position:"ç®—æ³•å·¥ç¨‹å¸ˆ",domain:"ai",interviewDate:"2024-01-14",interviewer:"çŽ‹é¢è¯•å®˜",score:92,status:"passed",duration:"60åˆ†é’Ÿ"},{candidateName:"çŽ‹äº”",position:"å¤§æ•°æ®å·¥ç¨‹å¸ˆ",domain:"bigdata",interviewDate:"2024-01-13",interviewer:"èµµé¢è¯•å®˜",score:65,status:"failed",duration:"40åˆ†é’Ÿ"}]),W=$e(()=>{let s=B.value;return C.value&&(s=s.filter(t=>t.candidateName.includes(C.value)||t.position.includes(C.value))),y.value!=="all"&&(s=s.filter(t=>t.domain===y.value)),b.value!=="all"&&(s=s.filter(t=>t.position.includes(b.value))),s}),K=()=>{U.go(-1)},X=()=>{U.push("/position-management")},ee=()=>{U.push("/batch-interview-setup")},te=s=>({ai:"AIæŠ€æœ¯",bigdata:"å¤§æ•°æ®",iot:"IoTç‰©è”ç½‘"})[s]||s,ae=s=>({ai:"#0066cc",bigdata:"#059669",iot:"#ea580c"})[s]||"#666",le=s=>s>=90?"success":s>=80?"warning":s>=70?"":"danger",se=s=>({passed:"é€šè¿‡",failed:"æœªé€šè¿‡",pending:"å¾…å®š"})[s]||s,ne=s=>({passed:"success",failed:"danger",pending:"warning"})[s]||"",oe=()=>{d.info("æ—¥æœŸç­›é€‰å·²æ›´æ–°")},ie=()=>{d.info("æŠ€æœ¯é¢†åŸŸç­›é€‰å·²æ›´æ–°")},re=()=>{d.info("èŒä½ç­›é€‰å·²æ›´æ–°")},de=()=>{d.info("æŠ¥è¡¨ç±»åž‹å·²æ›´æ–°")},ue=()=>{S.value=[],y.value="all",b.value="all",E.value="comprehensive",C.value="",d.success("ç­›é€‰æ¡ä»¶å·²é‡ç½®")},ce=()=>{d.success("ç­›é€‰æ¡ä»¶å·²åº”ç”¨")},pe=()=>{d.info("æŠ¥è¡¨å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...")},_e=()=>{d.success("æ•°æ®å·²åˆ·æ–°")},fe=()=>{d.info("æŠ¥è¡¨ç”ŸæˆåŠŸèƒ½å¼€å‘ä¸­...")},me=async()=>{var s;try{d.info("æ­£åœ¨ç”ŸæˆAIæ•°æ®æ´žå¯Ÿ...");const t={dataType:"enterprise_recruitment",metrics:v,tableData:B.value,timeRange:S.value,domain:y.value,position:b.value,analysisDepth:"comprehensive"},i=await J.generateDataDrivenInsights(t);d.success("AIæ´žå¯Ÿåˆ†æžå®Œæˆï¼"),console.log("ðŸ¤– AIæ•°æ®æ´žå¯Ÿç»“æžœ:",i),d({message:`AIæ´žå¯Ÿï¼š${((s=i.keyInsights)==null?void 0:s[0])||"æ•°æ®åˆ†æžå®Œæˆï¼Œå»ºè®®å…³æ³¨å€™é€‰äººæŠ€èƒ½åŒ¹é…åº¦"}`,type:"success",duration:5e3})}catch(t){console.error("âŒ AIæ´žå¯Ÿåˆ†æžå¤±è´¥:",t),d.error("AIæ´žå¯Ÿåˆ†æžæš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åŽé‡è¯•")}},ve=s=>{d.info(`æ‰§è¡Œæ“ä½œ: ${s}`)},ge=()=>{d.info("é¢è¯•å®˜è¯¦æƒ…åŠŸèƒ½å¼€å‘ä¸­...")},he=()=>{d.info("è¡¨æ ¼æ•°æ®å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...")},ye=s=>{d.info(`æŸ¥çœ‹ ${s.candidateName} çš„é¢è¯•æŠ¥å‘Š`)},be=s=>{d.info(`æŸ¥çœ‹ ${s.candidateName} çš„è¯¦ç»†ä¿¡æ¯`)},we=s=>{P.value=s,D.value=1},Ce=s=>{D.value=s};let k=null,x=null,I=null,R=null;const z=(s,t,i=3)=>{let r=0;const A=()=>{if(!s.value)return;const c=s.value;if(c.clientWidth===0||c.clientHeight===0){r++,r<i?setTimeout(A,100):console.warn("å›¾è¡¨å®¹å™¨å°ºå¯¸å¼‚å¸¸ï¼Œè·³è¿‡åˆå§‹åŒ–");return}try{t(c)}catch(_){console.error("å›¾è¡¨åˆå§‹åŒ–å¤±è´¥:",_)}};A()},ke=()=>{z(O,s=>{k=$(s),k.setOption({title:{text:"é¢è¯•æ•°é‡è¶‹åŠ¿"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["1æœˆ","2æœˆ","3æœˆ","4æœˆ","5æœˆ","6æœˆ"]},yAxis:{type:"value"},series:[{data:[120,200,150,80,70,110],type:"line",smooth:!0,itemStyle:{color:"#0066cc"}}]})}),z(j,s=>{x=$(s),x.setOption({title:{text:"æŠ€æœ¯é¢†åŸŸåˆ†å¸ƒ"},tooltip:{trigger:"item"},series:[{type:"pie",radius:"50%",data:[{value:1048,name:"AIæŠ€æœ¯",itemStyle:{color:"#0066cc"}},{value:735,name:"å¤§æ•°æ®",itemStyle:{color:"#059669"}},{value:580,name:"IoTç‰©è”ç½‘",itemStyle:{color:"#ea580c"}}]}]})}),z(q,s=>{I=$(s),I.setOption({title:{text:"è¯„åˆ†åˆ†å¸ƒ"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["0-60","60-70","70-80","80-90","90-100"]},yAxis:{type:"value"},series:[{data:[23,45,156,234,178],type:"bar",itemStyle:{color:"#667eea"}}]})}),z(L,s=>{R=$(s),R.setOption({title:{text:"é¢è¯•å®˜æ•ˆçŽ‡"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["æŽé¢è¯•å®˜","çŽ‹é¢è¯•å®˜","èµµé¢è¯•å®˜","åˆ˜é¢è¯•å®˜"]},yAxis:{type:"value"},series:[{data:[45,38,52,41],type:"bar",itemStyle:{color:"#4c51bf"}}]})})};return Ue(async()=>{try{console.log("âœ… iFlytek SparkæœåŠ¡å·²å°±ç»ª")}catch(s){console.error("âŒ iFlytek SparkæœåŠ¡åˆå§‹åŒ–å¤±è´¥:",s)}Ee(()=>{setTimeout(()=>{ke()},100)}),console.log("ä¼ä¸šæŠ¥è¡¨é¡µé¢å·²åŠ è½½")}),Pe(()=>{k&&(k.dispose(),k=null),x&&(x.dispose(),x=null),I&&(I.dispose(),I=null),R&&(R.dispose(),R=null)}),(s,t)=>{const i=p("el-icon"),r=p("el-button"),A=p("el-date-picker"),c=p("el-col"),_=p("el-option"),G=p("el-select"),V=p("el-row"),g=p("el-card"),xe=p("el-button-group"),H=p("el-dropdown-item"),Ie=p("el-dropdown-menu"),Re=p("el-dropdown"),T=p("el-tag"),Se=p("el-input"),h=p("el-table-column"),De=p("el-table"),ze=p("el-pagination");return Be(),Ge("div",qe,[l("div",Le,[l("div",We,[l("div",He,[e(r,{onClick:K,link:"",class:"back-btn"},{default:a(()=>[e(i,null,{default:a(()=>[e(u(Fe))]),_:1}),t[10]||(t[10]=o(" è¿”å›ž "))]),_:1,__:[10]}),t[11]||(t[11]=l("div",{class:"page-title"},[l("h1",null,"æ•°æ®æŠ¥è¡¨"),l("p",null,"ä¼ä¸šæ‹›è˜æ•°æ®åˆ†æžä¸Žå¯è§†åŒ–æŠ¥è¡¨")],-1))]),l("div",Qe,[e(r,{onClick:X,type:"info"},{default:a(()=>[e(i,null,{default:a(()=>[e(u(Q))]),_:1}),t[12]||(t[12]=o(" èŒä½ç®¡ç† "))]),_:1,__:[12]}),e(r,{onClick:ee,type:"success"},{default:a(()=>[e(i,null,{default:a(()=>[e(u(Y))]),_:1}),t[13]||(t[13]=o(" æ‰¹é‡é¢è¯• "))]),_:1,__:[13]}),e(r,{onClick:pe},{default:a(()=>[e(i,null,{default:a(()=>[e(u(F))]),_:1}),t[14]||(t[14]=o(" å¯¼å‡ºæŠ¥è¡¨ "))]),_:1,__:[14]}),e(r,{onClick:_e},{default:a(()=>[e(i,null,{default:a(()=>[e(u(Z))]),_:1}),t[15]||(t[15]=o(" åˆ·æ–°æ•°æ® "))]),_:1,__:[15]}),e(r,{onClick:me,type:"warning"},{default:a(()=>[e(i,null,{default:a(()=>[e(u(M))]),_:1}),t[16]||(t[16]=o(" AIæ´žå¯Ÿåˆ†æž "))]),_:1,__:[16]}),e(r,{type:"primary",onClick:fe},{default:a(()=>[e(i,null,{default:a(()=>[e(u(F))]),_:1}),t[17]||(t[17]=o(" ç”ŸæˆæŠ¥è¡¨ "))]),_:1,__:[17]})])])]),l("div",Ye,[e(g,null,{default:a(()=>[e(V,{gutter:16,align:"middle"},{default:a(()=>[e(c,{span:6},{default:a(()=>[e(A,{modelValue:S.value,"onUpdate:modelValue":t[0]||(t[0]=n=>S.value=n),type:"daterange","range-separator":"è‡³","start-placeholder":"å¼€å§‹æ—¥æœŸ","end-placeholder":"ç»“æŸæ—¥æœŸ",onChange:oe},null,8,["modelValue"])]),_:1}),e(c,{span:4},{default:a(()=>[e(G,{modelValue:y.value,"onUpdate:modelValue":t[1]||(t[1]=n=>y.value=n),placeholder:"æŠ€æœ¯é¢†åŸŸ",onChange:ie},{default:a(()=>[e(_,{label:"å…¨éƒ¨é¢†åŸŸ",value:"all"}),e(_,{label:"AIæŠ€æœ¯",value:"ai"}),e(_,{label:"å¤§æ•°æ®",value:"bigdata"}),e(_,{label:"IoTç‰©è”ç½‘",value:"iot"})]),_:1},8,["modelValue"])]),_:1}),e(c,{span:4},{default:a(()=>[e(G,{modelValue:b.value,"onUpdate:modelValue":t[2]||(t[2]=n=>b.value=n),placeholder:"èŒä½ç±»åž‹",onChange:re},{default:a(()=>[e(_,{label:"å…¨éƒ¨èŒä½",value:"all"}),e(_,{label:"å‰ç«¯å·¥ç¨‹å¸ˆ",value:"frontend"}),e(_,{label:"åŽç«¯å·¥ç¨‹å¸ˆ",value:"backend"}),e(_,{label:"ç®—æ³•å·¥ç¨‹å¸ˆ",value:"algorithm"})]),_:1},8,["modelValue"])]),_:1}),e(c,{span:4},{default:a(()=>[e(G,{modelValue:E.value,"onUpdate:modelValue":t[3]||(t[3]=n=>E.value=n),placeholder:"æŠ¥è¡¨ç±»åž‹",onChange:de},{default:a(()=>[e(_,{label:"ç»¼åˆæŠ¥è¡¨",value:"comprehensive"}),e(_,{label:"é¢è¯•åˆ†æž",value:"interview"}),e(_,{label:"å€™é€‰äººåˆ†æž",value:"candidate"}),e(_,{label:"æ•ˆçŽ‡åˆ†æž",value:"efficiency"})]),_:1},8,["modelValue"])]),_:1}),e(c,{span:6},{default:a(()=>[l("div",Ze,[e(r,{onClick:ue},{default:a(()=>t[18]||(t[18]=[o("é‡ç½®")])),_:1,__:[18]}),e(r,{type:"primary",onClick:ce},{default:a(()=>t[19]||(t[19]=[o("åº”ç”¨ç­›é€‰")])),_:1,__:[19]})])]),_:1})]),_:1})]),_:1})]),l("div",Je,[e(V,{gutter:24},{default:a(()=>[e(c,{span:6},{default:a(()=>[e(g,{class:"metric-card"},{default:a(()=>[l("div",Ke,[l("div",Xe,[e(i,null,{default:a(()=>[e(u(Y))]),_:1})]),l("div",et,[l("div",tt,m(v.totalInterviews),1),t[20]||(t[20]=l("div",{class:"metric-label"},"æ€»é¢è¯•æ•°",-1)),l("div",at,[e(i,null,{default:a(()=>[e(u(N))]),_:1}),o(" +"+m(v.interviewGrowth)+"% ",1)])])])]),_:1})]),_:1}),e(c,{span:6},{default:a(()=>[e(g,{class:"metric-card"},{default:a(()=>[l("div",lt,[l("div",st,[e(i,null,{default:a(()=>[e(u(Q))]),_:1})]),l("div",nt,[l("div",ot,m(v.totalCandidates),1),t[21]||(t[21]=l("div",{class:"metric-label"},"å€™é€‰äººæ•°",-1)),l("div",it,[e(i,null,{default:a(()=>[e(u(N))]),_:1}),o(" +"+m(v.candidateGrowth)+"% ",1)])])])]),_:1})]),_:1}),e(c,{span:6},{default:a(()=>[e(g,{class:"metric-card"},{default:a(()=>[l("div",rt,[l("div",dt,[e(i,null,{default:a(()=>[e(u(M))]),_:1})]),l("div",ut,[l("div",ct,m(v.passRate)+"%",1),t[22]||(t[22]=l("div",{class:"metric-label"},"é€šè¿‡çŽ‡",-1)),l("div",{class:Me(["metric-trend",v.passRateChange>=0?"positive":"negative"])},[e(i,null,{default:a(()=>[e(u(N))]),_:1}),o(" "+m(v.passRateChange>=0?"+":"")+m(v.passRateChange)+"% ",1)],2)])])]),_:1})]),_:1}),e(c,{span:6},{default:a(()=>[e(g,{class:"metric-card"},{default:a(()=>[l("div",pt,[l("div",_t,[e(i,null,{default:a(()=>[e(u(M))]),_:1})]),l("div",ft,[l("div",mt,m(v.avgScore),1),t[23]||(t[23]=l("div",{class:"metric-label"},"å¹³å‡åˆ†æ•°",-1)),l("div",vt,[e(i,null,{default:a(()=>[e(u(N))]),_:1}),o(" +"+m(v.scoreImprovement),1)])])])]),_:1})]),_:1})]),_:1})]),l("div",gt,[e(V,{gutter:24},{default:a(()=>[e(c,{span:12},{default:a(()=>[e(g,{class:"chart-card"},{header:a(()=>[l("div",ht,[t[27]||(t[27]=l("span",null,"é¢è¯•è¶‹åŠ¿åˆ†æž",-1)),e(xe,null,{default:a(()=>[e(r,{size:"small",type:w.value==="week"?"primary":"",onClick:t[4]||(t[4]=n=>w.value="week")},{default:a(()=>t[24]||(t[24]=[o("å‘¨")])),_:1,__:[24]},8,["type"]),e(r,{size:"small",type:w.value==="month"?"primary":"",onClick:t[5]||(t[5]=n=>w.value="month")},{default:a(()=>t[25]||(t[25]=[o("æœˆ")])),_:1,__:[25]},8,["type"]),e(r,{size:"small",type:w.value==="quarter"?"primary":"",onClick:t[6]||(t[6]=n=>w.value="quarter")},{default:a(()=>t[26]||(t[26]=[o("å­£")])),_:1,__:[26]},8,["type"])]),_:1})])]),default:a(()=>[l("div",{class:"chart-container",ref_key:"trendChartRef",ref:O,style:{height:"300px"}},null,512)]),_:1})]),_:1}),e(c,{span:12},{default:a(()=>[e(g,{class:"chart-card"},{header:a(()=>[l("div",yt,[t[31]||(t[31]=l("span",null,"æŠ€æœ¯é¢†åŸŸåˆ†å¸ƒ",-1)),e(Re,{onCommand:ve},{dropdown:a(()=>[e(Ie,null,{default:a(()=>[e(H,{command:"export"},{default:a(()=>t[29]||(t[29]=[o("å¯¼å‡ºæ•°æ®")])),_:1,__:[29]}),e(H,{command:"detail"},{default:a(()=>t[30]||(t[30]=[o("æŸ¥çœ‹è¯¦æƒ…")])),_:1,__:[30]})]),_:1})]),default:a(()=>[e(r,{size:"small"},{default:a(()=>[t[28]||(t[28]=o(" æ›´å¤š")),e(i,{class:"el-icon--right"},{default:a(()=>[e(u(Z))]),_:1})]),_:1,__:[28]})]),_:1})])]),default:a(()=>[l("div",{class:"chart-container",ref_key:"domainChartRef",ref:j,style:{height:"300px"}},null,512)]),_:1})]),_:1})]),_:1}),e(V,{gutter:24,style:{"margin-top":"24px"}},{default:a(()=>[e(c,{span:12},{default:a(()=>[e(g,{class:"chart-card"},{header:a(()=>[l("div",bt,[t[33]||(t[33]=l("span",null,"é¢è¯•è¯„åˆ†åˆ†å¸ƒ",-1)),e(T,{type:"info",size:"small"},{default:a(()=>t[32]||(t[32]=[o("æœ€è¿‘30å¤©")])),_:1,__:[32]})])]),default:a(()=>[l("div",{class:"chart-container",ref_key:"scoreChartRef",ref:q,style:{height:"300px"}},null,512)]),_:1})]),_:1}),e(c,{span:12},{default:a(()=>[e(g,{class:"chart-card"},{header:a(()=>[l("div",wt,[t[35]||(t[35]=l("span",null,"é¢è¯•å®˜æ•ˆçŽ‡åˆ†æž",-1)),e(r,{size:"small",onClick:ge},{default:a(()=>t[34]||(t[34]=[o("æŸ¥çœ‹è¯¦æƒ…")])),_:1,__:[34]})])]),default:a(()=>[l("div",{class:"chart-container",ref_key:"efficiencyChartRef",ref:L,style:{height:"300px"}},null,512)]),_:1})]),_:1})]),_:1})]),l("div",Ct,[e(g,null,{header:a(()=>[l("div",kt,[l("span",null,"è¯¦ç»†æ•°æ® ("+m(B.value.length)+")",1),l("div",xt,[e(Se,{modelValue:C.value,"onUpdate:modelValue":t[7]||(t[7]=n=>C.value=n),placeholder:"æœç´¢å€™é€‰äºº...",style:{width:"200px","margin-right":"12px"},clearable:""},{prefix:a(()=>[e(i,null,{default:a(()=>[e(u(Oe))]),_:1})]),_:1},8,["modelValue"]),e(r,{onClick:he},{default:a(()=>[e(i,null,{default:a(()=>[e(u(F))]),_:1}),t[36]||(t[36]=o(" å¯¼å‡º "))]),_:1,__:[36]})])])]),default:a(()=>[e(De,{data:W.value,style:{width:"100%"},"max-height":"400"},{default:a(()=>[e(h,{prop:"candidateName",label:"å€™é€‰äºº",width:"120"}),e(h,{prop:"position",label:"èŒä½",width:"120"}),e(h,{prop:"domain",label:"æŠ€æœ¯é¢†åŸŸ",width:"100"},{default:a(n=>[e(T,{color:ae(n.row.domain),size:"small"},{default:a(()=>[o(m(te(n.row.domain)),1)]),_:2},1032,["color"])]),_:1}),e(h,{prop:"interviewDate",label:"é¢è¯•æ—¥æœŸ",width:"120"}),e(h,{prop:"interviewer",label:"é¢è¯•å®˜",width:"100"}),e(h,{prop:"score",label:"æ€»åˆ†",width:"80"},{default:a(n=>[e(T,{type:le(n.row.score)},{default:a(()=>[o(m(n.row.score),1)]),_:2},1032,["type"])]),_:1}),e(h,{prop:"status",label:"çŠ¶æ€",width:"100"},{default:a(n=>[e(T,{type:ne(n.row.status)},{default:a(()=>[o(m(se(n.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(h,{prop:"duration",label:"æ—¶é•¿",width:"80"}),e(h,{label:"æ“ä½œ",width:"150"},{default:a(n=>[e(r,{size:"small",onClick:Ae=>ye(n.row)},{default:a(()=>t[37]||(t[37]=[o("æŸ¥çœ‹æŠ¥å‘Š")])),_:2,__:[37]},1032,["onClick"]),e(r,{size:"small",onClick:Ae=>be(n.row)},{default:a(()=>t[38]||(t[38]=[o("è¯¦æƒ…")])),_:2,__:[38]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",It,[e(ze,{"current-page":D.value,"onUpdate:currentPage":t[8]||(t[8]=n=>D.value=n),"page-size":P.value,"onUpdate:pageSize":t[9]||(t[9]=n=>P.value=n),"page-sizes":[10,20,50,100],total:W.value.length,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:we,onCurrentChange:Ce},null,8,["current-page","page-size","total"])])]),_:1})])])}}},zt=Ve(Rt,[["__scopeId","data-v-b774b2a3"]]);export{zt as default};
