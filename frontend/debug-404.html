<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404é—®é¢˜è¯Šæ–­</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #fff;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .success {
            background: rgba(76, 175, 80, 0.3);
            border-left: 4px solid #4CAF50;
        }
        .error {
            background: rgba(244, 67, 54, 0.3);
            border-left: 4px solid #f44336;
        }
        .info {
            background: rgba(33, 150, 243, 0.3);
            border-left: 4px solid #2196F3;
        }
        button {
            background: #1890ff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #0066cc;
        }
        .url-list {
            list-style: none;
            padding: 0;
        }
        .url-list li {
            margin: 5px 0;
        }
        .url-list a {
            color: #87CEEB;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.1);
            display: inline-block;
        }
        .url-list a:hover {
            background: rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” iFlytek Spark ç³»ç»Ÿ 404 é—®é¢˜è¯Šæ–­</h1>
        
        <div class="test-section">
            <h3>ğŸ“Š ç³»ç»ŸçŠ¶æ€æ£€æŸ¥</h3>
            <div id="system-status">
                <div class="test-result info">æ­£åœ¨æ£€æŸ¥ç³»ç»ŸçŠ¶æ€...</div>
            </div>
            <button onclick="checkSystemStatus()">é‡æ–°æ£€æŸ¥</button>
        </div>

        <div class="test-section">
            <h3>ğŸŒ æœåŠ¡å™¨è¿æ¥æµ‹è¯•</h3>
            <div id="server-status">
                <div class="test-result info">æ­£åœ¨æµ‹è¯•æœåŠ¡å™¨è¿æ¥...</div>
            </div>
            <button onclick="testServerConnection()">æµ‹è¯•è¿æ¥</button>
        </div>

        <div class="test-section">
            <h3>ğŸ”— å¯ç”¨è·¯ç”±åˆ—è¡¨</h3>
            <div class="test-result info">
                <p>ä»¥ä¸‹æ˜¯ç³»ç»Ÿä¸­é…ç½®çš„ä¸»è¦è·¯ç”±ï¼Œè¯·å°è¯•è®¿é—®ï¼š</p>
                <ul class="url-list">
                    <li><a href="http://localhost:5173/" target="_blank">é¦–é¡µ - /</a></li>
                    <li><a href="http://localhost:5173/demo" target="_blank">äº§å“æ¼”ç¤º - /demo</a></li>
                    <li><a href="http://localhost:5173/enhanced-demo" target="_blank">å¢å¼ºæ¼”ç¤º - /enhanced-demo</a></li>
                    <li><a href="http://localhost:5173/interview-selection" target="_blank">é¢è¯•é€‰æ‹© - /interview-selection</a></li>
                    <li><a href="http://localhost:5173/enterprise" target="_blank">ä¼ä¸šç«¯ - /enterprise</a></li>
                    <li><a href="http://localhost:5173/candidate" target="_blank">å€™é€‰äººç«¯ - /candidate</a></li>
                    <li><a href="http://localhost:5173/enhanced-home" target="_blank">å¢å¼ºä¸»é¡µ - /enhanced-home</a></li>
                    <li><a href="http://localhost:5173/status-check" target="_blank">çŠ¶æ€æ£€æŸ¥ - /status-check</a></li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ› ï¸ å¿«é€Ÿä¿®å¤å»ºè®®</h3>
            <div id="fix-suggestions">
                <div class="test-result info">
                    <h4>å¦‚æœä»ç„¶çœ‹åˆ°404é”™è¯¯ï¼Œè¯·å°è¯•ï¼š</h4>
                    <ol>
                        <li><strong>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼š</strong> Ctrl+Shift+R å¼ºåˆ¶åˆ·æ–°</li>
                        <li><strong>æ£€æŸ¥URLï¼š</strong> ç¡®ä¿è®¿é—® http://localhost:5173/</li>
                        <li><strong>é‡å¯å¼€å‘æœåŠ¡å™¨ï¼š</strong> åœ¨ç»ˆç«¯æŒ‰ Ctrl+C åœæ­¢ï¼Œç„¶åè¿è¡Œ npm run dev</li>
                        <li><strong>æ£€æŸ¥ç«¯å£ï¼š</strong> ç¡®è®¤5173ç«¯å£æ²¡æœ‰è¢«å…¶ä»–ç¨‹åºå ç”¨</li>
                        <li><strong>å°è¯•å…¶ä»–æµè§ˆå™¨ï¼š</strong> ä½¿ç”¨Chromeã€Firefoxæˆ–Edge</li>
                    </ol>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ“ é”™è¯¯æŠ¥å‘Š</h3>
            <div id="error-log">
                <div class="test-result info">æ§åˆ¶å°é”™è¯¯ä¿¡æ¯å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</div>
            </div>
            <button onclick="checkConsoleErrors()">æ£€æŸ¥æ§åˆ¶å°é”™è¯¯</button>
        </div>
    </div>

    <script>
        // æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
        function checkSystemStatus() {
            const statusDiv = document.getElementById('system-status');
            statusDiv.innerHTML = '<div class="test-result info">æ­£åœ¨æ£€æŸ¥...</div>';
            
            const checks = [
                { name: 'Vue.js æ”¯æŒ', test: () => typeof Vue !== 'undefined' || window.Vue },
                { name: 'ES6 æ¨¡å—æ”¯æŒ', test: () => typeof import !== 'undefined' },
                { name: 'Fetch API æ”¯æŒ', test: () => typeof fetch !== 'undefined' },
                { name: 'æœ¬åœ°å­˜å‚¨æ”¯æŒ', test: () => typeof localStorage !== 'undefined' },
                { name: 'WebSocket æ”¯æŒ', test: () => typeof WebSocket !== 'undefined' }
            ];
            
            let results = '';
            checks.forEach(check => {
                try {
                    const result = check.test();
                    results += `<div class="test-result ${result ? 'success' : 'error'}">
                        ${check.name}: ${result ? 'âœ… æ”¯æŒ' : 'âŒ ä¸æ”¯æŒ'}
                    </div>`;
                } catch (e) {
                    results += `<div class="test-result error">
                        ${check.name}: âŒ æ£€æŸ¥å¤±è´¥ - ${e.message}
                    </div>`;
                }
            });
            
            statusDiv.innerHTML = results;
        }

        // æµ‹è¯•æœåŠ¡å™¨è¿æ¥
        async function testServerConnection() {
            const statusDiv = document.getElementById('server-status');
            statusDiv.innerHTML = '<div class="test-result info">æ­£åœ¨æµ‹è¯•è¿æ¥...</div>';
            
            const endpoints = [
                'http://localhost:5173/',
                'http://localhost:5173/demo',
                'http://localhost:5173/api/health'
            ];
            
            let results = '';
            
            for (const endpoint of endpoints) {
                try {
                    const response = await fetch(endpoint, { 
                        method: 'HEAD',
                        mode: 'no-cors'
                    });
                    results += `<div class="test-result success">
                        ${endpoint}: âœ… å¯è®¿é—®
                    </div>`;
                } catch (error) {
                    results += `<div class="test-result error">
                        ${endpoint}: âŒ è¿æ¥å¤±è´¥ - ${error.message}
                    </div>`;
                }
            }
            
            statusDiv.innerHTML = results;
        }

        // æ£€æŸ¥æ§åˆ¶å°é”™è¯¯
        function checkConsoleErrors() {
            const errorDiv = document.getElementById('error-log');
            
            // æ•è·æ§åˆ¶å°é”™è¯¯
            const originalError = console.error;
            const errors = [];
            
            console.error = function(...args) {
                errors.push(args.join(' '));
                originalError.apply(console, args);
            };
            
            // æ£€æŸ¥ç°æœ‰é”™è¯¯
            if (window.console && window.console.memory) {
                errorDiv.innerHTML = `<div class="test-result info">
                    å†…å­˜ä½¿ç”¨: ${Math.round(window.console.memory.usedJSHeapSize / 1024 / 1024)}MB
                </div>`;
            }
            
            if (errors.length > 0) {
                errorDiv.innerHTML += errors.map(error => 
                    `<div class="test-result error">âŒ ${error}</div>`
                ).join('');
            } else {
                errorDiv.innerHTML += '<div class="test-result success">âœ… æš‚æ— æ§åˆ¶å°é”™è¯¯</div>';
            }
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è¿è¡Œæ£€æŸ¥
        window.addEventListener('load', function() {
            checkSystemStatus();
            setTimeout(testServerConnection, 1000);
            setTimeout(checkConsoleErrors, 2000);
        });

        // ç›‘å¬é”™è¯¯äº‹ä»¶
        window.addEventListener('error', function(e) {
            const errorDiv = document.getElementById('error-log');
            errorDiv.innerHTML += `<div class="test-result error">
                âŒ JavaScripté”™è¯¯: ${e.message} (${e.filename}:${e.lineno})
            </div>`;
        });
    </script>
</body>
</html>
