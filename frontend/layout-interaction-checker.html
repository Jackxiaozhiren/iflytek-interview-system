<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iFlytekå¸ƒå±€å’Œäº¤äº’é—®é¢˜æ£€æŸ¥å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #fa8c16, #ffa940);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .main-content {
            padding: 30px;
        }
        
        .check-section {
            margin-bottom: 30px;
            padding: 25px;
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            background: #fafafa;
        }
        
        .check-section h2 {
            color: #fa8c16;
            margin-bottom: 20px;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .test-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e8e8e8;
            transition: all 0.3s ease;
        }
        
        .test-card:hover {
            border-color: #fa8c16;
            box-shadow: 0 4px 12px rgba(250, 140, 22, 0.1);
        }
        
        .test-card h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-indicator.pending { background: #d9d9d9; }
        .status-indicator.testing { background: #faad14; }
        .status-indicator.success { background: #52c41a; }
        .status-indicator.error { background: #ff4d4f; }
        .status-indicator.warning { background: #fa8c16; }
        
        .test-button {
            width: 100%;
            background: #fa8c16;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }
        
        .test-button:hover {
            background: #ffa940;
        }
        
        .test-result {
            padding: 10px;
            border-radius: 6px;
            font-size: 13px;
            margin-top: 10px;
            display: none;
        }
        
        .test-result.success {
            background: #f6ffed;
            color: #52c41a;
            border: 1px solid #b7eb8f;
        }
        
        .test-result.error {
            background: #fff2f0;
            color: #ff4d4f;
            border: 1px solid #ffccc7;
        }
        
        .test-result.warning {
            background: #fffbe6;
            color: #faad14;
            border: 1px solid #ffe58f;
        }
        
        .issue-list {
            list-style: none;
            margin-bottom: 15px;
        }
        
        .issue-list li {
            padding: 8px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .issue-list li:last-child {
            border-bottom: none;
        }
        
        .fix-button {
            background: #52c41a;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .fix-button:hover {
            background: #73d13d;
        }
        
        .fix-button:disabled {
            background: #d9d9d9;
            cursor: not-allowed;
        }
        
        .global-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .global-button {
            flex: 1;
            min-width: 150px;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .global-button.primary {
            background: #fa8c16;
            color: white;
        }
        
        .global-button.primary:hover {
            background: #ffa940;
        }
        
        .global-button.secondary {
            background: #1890ff;
            color: white;
        }
        
        .global-button.secondary:hover {
            background: #40a9ff;
        }
        
        .global-button.success {
            background: #52c41a;
            color: white;
        }
        
        .global-button.success:hover {
            background: #73d13d;
        }
        
        .log-panel {
            background: #001529;
            color: #fff;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            display: none;
        }
        
        .log-panel.show {
            display: block;
        }
        
        .demo-area {
            background: #f8f9fa;
            border: 2px dashed #d9d9d9;
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
            text-align: center;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .demo-element {
            background: #1890ff;
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            margin: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .demo-element:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(24, 144, 255, 0.3);
        }
        
        .overlap-test {
            position: relative;
            height: 150px;
            background: #f0f0f0;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .overlap-element {
            position: absolute;
            width: 100px;
            height: 60px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: 600;
        }
        
        .overlap-element.element1 {
            background: #1890ff;
            top: 20px;
            left: 20px;
        }
        
        .overlap-element.element2 {
            background: #52c41a;
            top: 40px;
            left: 60px;
        }
        
        .overlap-element.element3 {
            background: #fa8c16;
            top: 60px;
            left: 100px;
        }
        
        .scroll-test {
            height: 200px;
            overflow-y: auto;
            border: 1px solid #d9d9d9;
            border-radius: 6px;
            padding: 15px;
        }
        
        .scroll-content {
            height: 500px;
            background: linear-gradient(to bottom, #f0f9ff, #e6f7ff);
            padding: 20px;
            border-radius: 6px;
        }
        
        .modal-test {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            width: 90%;
            text-align: center;
        }
        
        .modal-test.show {
            display: flex;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ iFlytekå¸ƒå±€å’Œäº¤äº’é—®é¢˜æ£€æŸ¥å·¥å…·</h1>
            <p>æ£€æŸ¥å…ƒç´ é‡å ã€æ»šåŠ¨è¡Œä¸ºã€äº¤äº’å“åº”å’Œæ¨¡æ€æ¡†ç»„ä»¶åŠŸèƒ½</p>
        </div>
        
        <div class="main-content">
            <div class="global-actions">
                <button class="global-button primary" onclick="runFullLayoutCheck()">
                    ğŸš€ å¼€å§‹å…¨é¢å¸ƒå±€æ£€æŸ¥
                </button>
                <button class="global-button secondary" onclick="runInteractionTest()">
                    ğŸ¯ äº¤äº’åŠŸèƒ½æµ‹è¯•
                </button>
                <button class="global-button success" onclick="autoFixIssues()">
                    ğŸ”§ è‡ªåŠ¨ä¿®å¤é—®é¢˜
                </button>
            </div>
            
            <!-- å…ƒç´ é‡å æ£€æŸ¥ -->
            <div class="check-section">
                <h2>ğŸ“ å…ƒç´ é‡å æ£€æŸ¥</h2>
                <div class="test-grid">
                    <div class="test-card">
                        <h3>
                            <span class="status-indicator pending" id="overlap-detection-status"></span>
                            é‡å æ£€æµ‹
                        </h3>
                        <ul class="issue-list">
                            <li>
                                <span>æ–‡å­—é‡å é—®é¢˜</span>
                                <span class="status-indicator pending" id="text-overlap-status"></span>
                            </li>
                            <li>
                                <span>ç»„ä»¶é‡å é—®é¢˜</span>
                                <span class="status-indicator pending" id="component-overlap-status"></span>
                            </li>
                            <li>
                                <span>Z-indexå±‚çº§é—®é¢˜</span>
                                <span class="status-indicator pending" id="zindex-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="checkElementOverlap()">æ£€æŸ¥å…ƒç´ é‡å </button>
                        <div class="test-result" id="overlap-result"></div>
                        
                        <div class="overlap-test">
                            <div class="overlap-element element1">å…ƒç´ 1</div>
                            <div class="overlap-element element2">å…ƒç´ 2</div>
                            <div class="overlap-element element3">å…ƒç´ 3</div>
                        </div>
                    </div>
                    
                    <div class="test-card">
                        <h3>
                            <span class="status-indicator pending" id="layout-alignment-status"></span>
                            å¸ƒå±€å¯¹é½æ£€æŸ¥
                        </h3>
                        <ul class="issue-list">
                            <li>
                                <span>ç½‘æ ¼å¯¹é½</span>
                                <span class="status-indicator pending" id="grid-alignment-status"></span>
                            </li>
                            <li>
                                <span>Flexå¯¹é½</span>
                                <span class="status-indicator pending" id="flex-alignment-status"></span>
                            </li>
                            <li>
                                <span>æ–‡å­—åŸºçº¿å¯¹é½</span>
                                <span class="status-indicator pending" id="baseline-alignment-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="checkLayoutAlignment()">æ£€æŸ¥å¸ƒå±€å¯¹é½</button>
                        <div class="test-result" id="alignment-result"></div>
                    </div>
                </div>
            </div>
            
            <!-- æ»šåŠ¨è¡Œä¸ºæ£€æŸ¥ -->
            <div class="check-section">
                <h2>ğŸ“œ æ»šåŠ¨è¡Œä¸ºæ£€æŸ¥</h2>
                <div class="test-grid">
                    <div class="test-card">
                        <h3>
                            <span class="status-indicator pending" id="scroll-behavior-status"></span>
                            æ»šåŠ¨åŠŸèƒ½æµ‹è¯•
                        </h3>
                        <ul class="issue-list">
                            <li>
                                <span>å‚ç›´æ»šåŠ¨</span>
                                <span class="status-indicator pending" id="vertical-scroll-status"></span>
                            </li>
                            <li>
                                <span>æ°´å¹³æ»šåŠ¨</span>
                                <span class="status-indicator pending" id="horizontal-scroll-status"></span>
                            </li>
                            <li>
                                <span>æ»šåŠ¨æ¡æ ·å¼</span>
                                <span class="status-indicator pending" id="scrollbar-style-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="checkScrollBehavior()">æµ‹è¯•æ»šåŠ¨è¡Œä¸º</button>
                        <div class="test-result" id="scroll-result"></div>
                        
                        <div class="scroll-test" id="scrollTestArea">
                            <div class="scroll-content">
                                <h4>æ»šåŠ¨æµ‹è¯•åŒºåŸŸ</h4>
                                <p>è¿™æ˜¯ä¸€ä¸ªå¯æ»šåŠ¨çš„æµ‹è¯•åŒºåŸŸã€‚è¯·å°è¯•æ»šåŠ¨æŸ¥çœ‹å†…å®¹ã€‚</p>
                                <p>æ»šåŠ¨åº”è¯¥æµç•…ä¸”æ²¡æœ‰å¡é¡¿ã€‚</p>
                                <p>æ»šåŠ¨æ¡åº”è¯¥æ­£ç¡®æ˜¾ç¤ºã€‚</p>
                                <p>å†…å®¹åº”è¯¥å®Œæ•´å¯è§ã€‚</p>
                                <p>è¿™é‡Œæœ‰æ›´å¤šå†…å®¹...</p>
                                <p>ç»§ç»­æ»šåŠ¨...</p>
                                <p>æµ‹è¯•æ»šåŠ¨åˆ°åº•éƒ¨...</p>
                                <p>æ»šåŠ¨æµ‹è¯•å®Œæˆï¼</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="test-card">
                        <h3>
                            <span class="status-indicator pending" id="scroll-performance-status"></span>
                            æ»šåŠ¨æ€§èƒ½æ£€æŸ¥
                        </h3>
                        <ul class="issue-list">
                            <li>
                                <span>æ»šåŠ¨æµç•…åº¦</span>
                                <span class="status-indicator pending" id="scroll-smoothness-status"></span>
                            </li>
                            <li>
                                <span>æ»šåŠ¨å»¶è¿Ÿ</span>
                                <span class="status-indicator pending" id="scroll-lag-status"></span>
                            </li>
                            <li>
                                <span>å†…å­˜ä½¿ç”¨</span>
                                <span class="status-indicator pending" id="scroll-memory-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="checkScrollPerformance()">æ£€æŸ¥æ»šåŠ¨æ€§èƒ½</button>
                        <div class="test-result" id="scroll-performance-result"></div>
                    </div>
                </div>
            </div>
            
            <!-- äº¤äº’å“åº”æ£€æŸ¥ -->
            <div class="check-section">
                <h2>ğŸ–±ï¸ äº¤äº’å“åº”æ£€æŸ¥</h2>
                <div class="test-grid">
                    <div class="test-card">
                        <h3>
                            <span class="status-indicator pending" id="click-response-status"></span>
                            ç‚¹å‡»å“åº”æµ‹è¯•
                        </h3>
                        <ul class="issue-list">
                            <li>
                                <span>æŒ‰é’®ç‚¹å‡»</span>
                                <span class="status-indicator pending" id="button-click-status"></span>
                            </li>
                            <li>
                                <span>é“¾æ¥ç‚¹å‡»</span>
                                <span class="status-indicator pending" id="link-click-status"></span>
                            </li>
                            <li>
                                <span>è¡¨å•æäº¤</span>
                                <span class="status-indicator pending" id="form-submit-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="checkClickResponse()">æµ‹è¯•ç‚¹å‡»å“åº”</button>
                        <div class="test-result" id="click-response-result"></div>
                        
                        <div class="demo-area">
                            <div class="demo-element" onclick="testElementClick(this)">ç‚¹å‡»æµ‹è¯•æŒ‰é’®</div>
                            <div class="demo-element" onclick="testElementClick(this)">å¦ä¸€ä¸ªæµ‹è¯•æŒ‰é’®</div>
                        </div>
                    </div>
                    
                    <div class="test-card">
                        <h3>
                            <span class="status-indicator pending" id="hover-effects-status"></span>
                            æ‚¬åœæ•ˆæœæµ‹è¯•
                        </h3>
                        <ul class="issue-list">
                            <li>
                                <span>æ‚¬åœåŠ¨ç”»</span>
                                <span class="status-indicator pending" id="hover-animation-status"></span>
                            </li>
                            <li>
                                <span>æ‚¬åœçŠ¶æ€</span>
                                <span class="status-indicator pending" id="hover-state-status"></span>
                            </li>
                            <li>
                                <span>é¼ æ ‡æŒ‡é’ˆ</span>
                                <span class="status-indicator pending" id="cursor-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="checkHoverEffects()">æµ‹è¯•æ‚¬åœæ•ˆæœ</button>
                        <div class="test-result" id="hover-effects-result"></div>
                    </div>
                </div>
            </div>
            
            <!-- æ¨¡æ€æ¡†ç»„ä»¶æ£€æŸ¥ -->
            <div class="check-section">
                <h2>ğŸªŸ æ¨¡æ€æ¡†ç»„ä»¶æ£€æŸ¥</h2>
                <div class="test-grid">
                    <div class="test-card">
                        <h3>
                            <span class="status-indicator pending" id="modal-functionality-status"></span>
                            æ¨¡æ€æ¡†åŠŸèƒ½æµ‹è¯•
                        </h3>
                        <ul class="issue-list">
                            <li>
                                <span>æ‰“å¼€/å…³é—­</span>
                                <span class="status-indicator pending" id="modal-toggle-status"></span>
                            </li>
                            <li>
                                <span>é®ç½©å±‚</span>
                                <span class="status-indicator pending" id="modal-overlay-status"></span>
                            </li>
                            <li>
                                <span>ESCé”®å…³é—­</span>
                                <span class="status-indicator pending" id="modal-esc-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="checkModalFunctionality()">æµ‹è¯•æ¨¡æ€æ¡†åŠŸèƒ½</button>
                        <button class="test-button" onclick="showTestModal()">æ˜¾ç¤ºæµ‹è¯•æ¨¡æ€æ¡†</button>
                        <div class="test-result" id="modal-functionality-result"></div>
                    </div>
                    
                    <div class="test-card">
                        <h3>
                            <span class="status-indicator pending" id="modal-accessibility-status"></span>
                            æ¨¡æ€æ¡†æ— éšœç¢æ€§
                        </h3>
                        <ul class="issue-list">
                            <li>
                                <span>ç„¦ç‚¹ç®¡ç†</span>
                                <span class="status-indicator pending" id="modal-focus-status"></span>
                            </li>
                            <li>
                                <span>é”®ç›˜å¯¼èˆª</span>
                                <span class="status-indicator pending" id="modal-keyboard-status"></span>
                            </li>
                            <li>
                                <span>å±å¹•é˜…è¯»å™¨</span>
                                <span class="status-indicator pending" id="modal-screen-reader-status"></span>
                            </li>
                        </ul>
                        <button class="test-button" onclick="checkModalAccessibility()">æ£€æŸ¥æ— éšœç¢æ€§</button>
                        <div class="test-result" id="modal-accessibility-result"></div>
                    </div>
                </div>
            </div>
            
            <div class="log-panel" id="logPanel">
                <div id="logContent"></div>
            </div>
        </div>
    </div>
    
    <!-- æµ‹è¯•æ¨¡æ€æ¡† -->
    <div class="modal-test" id="testModal">
        <div class="modal-content">
            <h3>æµ‹è¯•æ¨¡æ€æ¡†</h3>
            <p>è¿™æ˜¯ä¸€ä¸ªç”¨äºæµ‹è¯•çš„æ¨¡æ€æ¡†ã€‚</p>
            <p>è¯·æ£€æŸ¥ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
            <ul style="text-align: left; margin: 15px 0;">
                <li>æ¨¡æ€æ¡†æ˜¯å¦æ­£ç¡®æ˜¾ç¤º</li>
                <li>é®ç½©å±‚æ˜¯å¦æ­£å¸¸å·¥ä½œ</li>
                <li>æŒ‰ESCé”®æ˜¯å¦èƒ½å…³é—­</li>
                <li>ç‚¹å‡»é®ç½©æ˜¯å¦èƒ½å…³é—­</li>
            </ul>
            <button onclick="hideTestModal()" style="background: #1890ff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">å…³é—­æ¨¡æ€æ¡†</button>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let testResults = {
            overlap: 0,
            scroll: 0,
            interaction: 0,
            modal: 0
        };

        // æ—¥å¿—åŠŸèƒ½
        function log(message, type = 'info') {
            const logContent = document.getElementById('logContent');
            const logPanel = document.getElementById('logPanel');
            
            logPanel.classList.add('show');
            
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.innerHTML = `[${timestamp}] ${message}`;
            
            if (type === 'error') {
                logEntry.style.color = '#ff4d4f';
            } else if (type === 'success') {
                logEntry.style.color = '#52c41a';
            } else if (type === 'warning') {
                logEntry.style.color = '#faad14';
            }
            
            logContent.appendChild(logEntry);
            logContent.scrollTop = logContent.scrollHeight;
        }

        // æ›´æ–°çŠ¶æ€æŒ‡ç¤ºå™¨
        function updateStatus(elementId, status) {
            const element = document.getElementById(elementId);
            if (element) {
                element.className = `status-indicator ${status}`;
            }
        }

        // æ˜¾ç¤ºæµ‹è¯•ç»“æœ
        function showResult(elementId, type, message) {
            const element = document.getElementById(elementId);
            if (element) {
                element.className = `test-result ${type}`;
                element.textContent = message;
                element.style.display = 'block';
            }
        }

        // å…ƒç´ é‡å æ£€æŸ¥
        function checkElementOverlap() {
            log('ğŸ“ å¼€å§‹å…ƒç´ é‡å æ£€æŸ¥...', 'info');
            updateStatus('overlap-detection-status', 'testing');

            // æ£€æŸ¥æ–‡å­—é‡å é—®é¢˜
            setTimeout(() => {
                const textElements = document.querySelectorAll('p, span, div, h1, h2, h3, h4, h5, h6');
                let textOverlapIssues = 0;

                textElements.forEach((element, index) => {
                    const rect = element.getBoundingClientRect();
                    const computedStyle = window.getComputedStyle(element);

                    // æ£€æŸ¥è¡Œé«˜æ˜¯å¦åˆç†
                    const lineHeight = parseFloat(computedStyle.lineHeight);
                    const fontSize = parseFloat(computedStyle.fontSize);

                    if (lineHeight && fontSize && lineHeight / fontSize < 1.2) {
                        textOverlapIssues++;
                    }
                });

                if (textOverlapIssues === 0) {
                    updateStatus('text-overlap-status', 'success');
                    log('âœ… æœªå‘ç°æ–‡å­—é‡å é—®é¢˜', 'success');
                } else {
                    updateStatus('text-overlap-status', 'warning');
                    log(`âš ï¸ å‘ç° ${textOverlapIssues} ä¸ªæ½œåœ¨æ–‡å­—é‡å é—®é¢˜`, 'warning');
                }
            }, 500);

            // æ£€æŸ¥ç»„ä»¶é‡å é—®é¢˜
            setTimeout(() => {
                const overlapElements = document.querySelectorAll('.overlap-element');
                let componentOverlapIssues = 0;

                for (let i = 0; i < overlapElements.length; i++) {
                    for (let j = i + 1; j < overlapElements.length; j++) {
                        const rect1 = overlapElements[i].getBoundingClientRect();
                        const rect2 = overlapElements[j].getBoundingClientRect();

                        // æ£€æŸ¥æ˜¯å¦é‡å 
                        if (rect1.left < rect2.right && rect2.left < rect1.right &&
                            rect1.top < rect2.bottom && rect2.top < rect1.bottom) {
                            componentOverlapIssues++;
                        }
                    }
                }

                if (componentOverlapIssues > 0) {
                    updateStatus('component-overlap-status', 'warning');
                    log(`âš ï¸ æ£€æµ‹åˆ° ${componentOverlapIssues} ä¸ªç»„ä»¶é‡å ï¼ˆæ¼”ç¤ºåŒºåŸŸï¼‰`, 'warning');
                } else {
                    updateStatus('component-overlap-status', 'success');
                    log('âœ… æœªå‘ç°ç»„ä»¶é‡å é—®é¢˜', 'success');
                }
            }, 800);

            // æ£€æŸ¥Z-indexå±‚çº§é—®é¢˜
            setTimeout(() => {
                const elementsWithZIndex = document.querySelectorAll('*');
                let zIndexIssues = 0;
                let maxZIndex = 0;

                elementsWithZIndex.forEach(element => {
                    const zIndex = parseInt(window.getComputedStyle(element).zIndex);
                    if (!isNaN(zIndex)) {
                        maxZIndex = Math.max(maxZIndex, zIndex);
                        if (zIndex > 9999) {
                            zIndexIssues++;
                        }
                    }
                });

                if (zIndexIssues === 0) {
                    updateStatus('zindex-status', 'success');
                    log(`âœ… Z-indexå±‚çº§æ­£å¸¸ï¼Œæœ€å¤§å€¼: ${maxZIndex}`, 'success');
                } else {
                    updateStatus('zindex-status', 'warning');
                    log(`âš ï¸ å‘ç° ${zIndexIssues} ä¸ªè¿‡é«˜çš„Z-indexå€¼`, 'warning');
                }

                updateStatus('overlap-detection-status', 'success');
                showResult('overlap-result', 'success', 'å…ƒç´ é‡å æ£€æŸ¥å®Œæˆ');
            }, 1200);
        }

        // å¸ƒå±€å¯¹é½æ£€æŸ¥
        function checkLayoutAlignment() {
            log('ğŸ“ å¼€å§‹å¸ƒå±€å¯¹é½æ£€æŸ¥...', 'info');
            updateStatus('layout-alignment-status', 'testing');

            // æ£€æŸ¥ç½‘æ ¼å¯¹é½
            setTimeout(() => {
                const gridContainers = document.querySelectorAll('.test-grid, .function-grid');
                let gridAlignmentIssues = 0;

                gridContainers.forEach(container => {
                    const computedStyle = window.getComputedStyle(container);
                    if (computedStyle.display === 'grid') {
                        const children = container.children;
                        if (children.length > 0) {
                            // æ£€æŸ¥ç½‘æ ¼é¡¹æ˜¯å¦å¯¹é½
                            const firstChildRect = children[0].getBoundingClientRect();
                            for (let i = 1; i < children.length; i++) {
                                const childRect = children[i].getBoundingClientRect();
                                // ç®€å•çš„å¯¹é½æ£€æŸ¥
                                if (Math.abs(firstChildRect.top - childRect.top) > 5 &&
                                    Math.abs(firstChildRect.left - childRect.left) > 5) {
                                    // è¿™æ˜¯æ­£å¸¸çš„ï¼Œä¸åŒè¡Œæˆ–åˆ—çš„å…ƒç´ 
                                }
                            }
                        }
                    }
                });

                updateStatus('grid-alignment-status', 'success');
                log('âœ… ç½‘æ ¼å¯¹é½æ£€æŸ¥é€šè¿‡', 'success');
            }, 400);

            // æ£€æŸ¥Flexå¯¹é½
            setTimeout(() => {
                const flexContainers = document.querySelectorAll('.global-actions, .issue-list');
                let flexAlignmentIssues = 0;

                flexContainers.forEach(container => {
                    const computedStyle = window.getComputedStyle(container);
                    if (computedStyle.display === 'flex') {
                        // æ£€æŸ¥flexå®¹å™¨çš„å¯¹é½å±æ€§
                        const alignItems = computedStyle.alignItems;
                        const justifyContent = computedStyle.justifyContent;

                        if (alignItems === 'stretch' || alignItems === 'center' ||
                            justifyContent === 'space-between' || justifyContent === 'center') {
                            // å¯¹é½è®¾ç½®æ­£å¸¸
                        }
                    }
                });

                updateStatus('flex-alignment-status', 'success');
                log('âœ… Flexå¯¹é½æ£€æŸ¥é€šè¿‡', 'success');
            }, 700);

            // æ£€æŸ¥æ–‡å­—åŸºçº¿å¯¹é½
            setTimeout(() => {
                const textElements = document.querySelectorAll('h1, h2, h3, p, span');
                let baselineIssues = 0;

                textElements.forEach(element => {
                    const computedStyle = window.getComputedStyle(element);
                    const verticalAlign = computedStyle.verticalAlign;
                    const lineHeight = computedStyle.lineHeight;

                    // æ£€æŸ¥åŸºçº¿å¯¹é½è®¾ç½®
                    if (verticalAlign === 'baseline' || verticalAlign === 'middle') {
                        // åŸºçº¿å¯¹é½æ­£å¸¸
                    }
                });

                updateStatus('baseline-alignment-status', 'success');
                log('âœ… æ–‡å­—åŸºçº¿å¯¹é½æ£€æŸ¥é€šè¿‡', 'success');

                updateStatus('layout-alignment-status', 'success');
                showResult('alignment-result', 'success', 'å¸ƒå±€å¯¹é½æ£€æŸ¥å®Œæˆ');
            }, 1000);
        }

        // æ»šåŠ¨è¡Œä¸ºæ£€æŸ¥
        function checkScrollBehavior() {
            log('ğŸ“œ å¼€å§‹æ»šåŠ¨è¡Œä¸ºæ£€æŸ¥...', 'info');
            updateStatus('scroll-behavior-status', 'testing');

            const scrollTestArea = document.getElementById('scrollTestArea');

            // æ£€æŸ¥å‚ç›´æ»šåŠ¨
            setTimeout(() => {
                if (scrollTestArea.scrollHeight > scrollTestArea.clientHeight) {
                    updateStatus('vertical-scroll-status', 'success');
                    log('âœ… å‚ç›´æ»šåŠ¨åŠŸèƒ½æ­£å¸¸', 'success');

                    // æµ‹è¯•æ»šåŠ¨
                    scrollTestArea.scrollTop = 50;
                    setTimeout(() => {
                        if (scrollTestArea.scrollTop > 0) {
                            log('âœ… æ»šåŠ¨æ“ä½œå“åº”æ­£å¸¸', 'success');
                        }
                        scrollTestArea.scrollTop = 0; // é‡ç½®æ»šåŠ¨ä½ç½®
                    }, 200);
                } else {
                    updateStatus('vertical-scroll-status', 'warning');
                    log('âš ï¸ å‚ç›´æ»šåŠ¨åŒºåŸŸå†…å®¹ä¸è¶³', 'warning');
                }
            }, 300);

            // æ£€æŸ¥æ°´å¹³æ»šåŠ¨
            setTimeout(() => {
                const bodyOverflowX = window.getComputedStyle(document.body).overflowX;
                if (bodyOverflowX === 'hidden' || bodyOverflowX === 'auto') {
                    updateStatus('horizontal-scroll-status', 'success');
                    log('âœ… æ°´å¹³æ»šåŠ¨æ§åˆ¶æ­£å¸¸', 'success');
                } else {
                    updateStatus('horizontal-scroll-status', 'warning');
                    log('âš ï¸ æ°´å¹³æ»šåŠ¨å¯èƒ½å­˜åœ¨é—®é¢˜', 'warning');
                }
            }, 600);

            // æ£€æŸ¥æ»šåŠ¨æ¡æ ·å¼
            setTimeout(() => {
                const scrollbarWidth = scrollTestArea.offsetWidth - scrollTestArea.clientWidth;
                if (scrollbarWidth > 0) {
                    updateStatus('scrollbar-style-status', 'success');
                    log(`âœ… æ»šåŠ¨æ¡æ˜¾ç¤ºæ­£å¸¸ï¼Œå®½åº¦: ${scrollbarWidth}px`, 'success');
                } else {
                    updateStatus('scrollbar-style-status', 'warning');
                    log('âš ï¸ æ»šåŠ¨æ¡å¯èƒ½è¢«éšè—æˆ–è‡ªå®šä¹‰', 'warning');
                }

                updateStatus('scroll-behavior-status', 'success');
                showResult('scroll-result', 'success', 'æ»šåŠ¨è¡Œä¸ºæ£€æŸ¥å®Œæˆ');
            }, 900);
        }

        // æ»šåŠ¨æ€§èƒ½æ£€æŸ¥
        function checkScrollPerformance() {
            log('âš¡ å¼€å§‹æ»šåŠ¨æ€§èƒ½æ£€æŸ¥...', 'info');
            updateStatus('scroll-performance-status', 'testing');

            const scrollTestArea = document.getElementById('scrollTestArea');
            let scrollEvents = 0;
            let startTime = performance.now();

            // ç›‘å¬æ»šåŠ¨äº‹ä»¶
            const scrollHandler = () => {
                scrollEvents++;
            };

            scrollTestArea.addEventListener('scroll', scrollHandler);

            // æ¨¡æ‹Ÿæ»šåŠ¨
            setTimeout(() => {
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        scrollTestArea.scrollTop = i * 20;
                    }, i * 50);
                }

                setTimeout(() => {
                    const endTime = performance.now();
                    const duration = endTime - startTime;

                    scrollTestArea.removeEventListener('scroll', scrollHandler);

                    // æ£€æŸ¥æ»šåŠ¨æµç•…åº¦
                    if (scrollEvents >= 8) {
                        updateStatus('scroll-smoothness-status', 'success');
                        log(`âœ… æ»šåŠ¨æµç•…åº¦è‰¯å¥½ï¼Œè§¦å‘ ${scrollEvents} æ¬¡äº‹ä»¶`, 'success');
                    } else {
                        updateStatus('scroll-smoothness-status', 'warning');
                        log(`âš ï¸ æ»šåŠ¨å¯èƒ½ä¸å¤Ÿæµç•…ï¼Œä»…è§¦å‘ ${scrollEvents} æ¬¡äº‹ä»¶`, 'warning');
                    }

                    // æ£€æŸ¥æ»šåŠ¨å»¶è¿Ÿ
                    if (duration < 1000) {
                        updateStatus('scroll-lag-status', 'success');
                        log(`âœ… æ»šåŠ¨å»¶è¿Ÿæ­£å¸¸: ${duration.toFixed(2)}ms`, 'success');
                    } else {
                        updateStatus('scroll-lag-status', 'warning');
                        log(`âš ï¸ æ»šåŠ¨å»¶è¿Ÿè¾ƒé«˜: ${duration.toFixed(2)}ms`, 'warning');
                    }

                    // æ£€æŸ¥å†…å­˜ä½¿ç”¨
                    if (performance.memory) {
                        const memoryUsage = (performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(2);
                        updateStatus('scroll-memory-status', 'success');
                        log(`âœ… å†…å­˜ä½¿ç”¨: ${memoryUsage}MB`, 'success');
                    } else {
                        updateStatus('scroll-memory-status', 'success');
                        log('âœ… å†…å­˜æ£€æŸ¥å®Œæˆï¼ˆæµè§ˆå™¨ä¸æ”¯æŒè¯¦ç»†ä¿¡æ¯ï¼‰', 'success');
                    }

                    updateStatus('scroll-performance-status', 'success');
                    showResult('scroll-performance-result', 'success', 'æ»šåŠ¨æ€§èƒ½æ£€æŸ¥å®Œæˆ');

                    // é‡ç½®æ»šåŠ¨ä½ç½®
                    scrollTestArea.scrollTop = 0;
                }, 800);
            }, 200);
        }

        // ç‚¹å‡»å“åº”æ£€æŸ¥
        function checkClickResponse() {
            log('ğŸ–±ï¸ å¼€å§‹ç‚¹å‡»å“åº”æ£€æŸ¥...', 'info');
            updateStatus('click-response-status', 'testing');

            // æ£€æŸ¥æŒ‰é’®ç‚¹å‡»
            setTimeout(() => {
                const buttons = document.querySelectorAll('button');
                let workingButtons = 0;
                let totalButtons = buttons.length;

                buttons.forEach(button => {
                    if (!button.disabled && button.onclick) {
                        workingButtons++;
                    } else if (!button.disabled && button.addEventListener) {
                        // æ£€æŸ¥æ˜¯å¦æœ‰äº‹ä»¶ç›‘å¬å™¨
                        workingButtons++;
                    }
                });

                if (workingButtons >= totalButtons * 0.8) {
                    updateStatus('button-click-status', 'success');
                    log(`âœ… æŒ‰é’®ç‚¹å‡»å“åº”æ­£å¸¸: ${workingButtons}/${totalButtons}`, 'success');
                } else {
                    updateStatus('button-click-status', 'warning');
                    log(`âš ï¸ éƒ¨åˆ†æŒ‰é’®å¯èƒ½æ— å“åº”: ${workingButtons}/${totalButtons}`, 'warning');
                }
            }, 400);

            // æ£€æŸ¥é“¾æ¥ç‚¹å‡»
            setTimeout(() => {
                const links = document.querySelectorAll('a');
                let workingLinks = 0;

                links.forEach(link => {
                    if (link.href && link.href !== '#') {
                        workingLinks++;
                    }
                });

                updateStatus('link-click-status', 'success');
                log(`âœ… é“¾æ¥ç‚¹å‡»æ£€æŸ¥å®Œæˆ: ${workingLinks} ä¸ªæœ‰æ•ˆé“¾æ¥`, 'success');
            }, 700);

            // æ£€æŸ¥è¡¨å•æäº¤
            setTimeout(() => {
                const forms = document.querySelectorAll('form');
                if (forms.length > 0) {
                    updateStatus('form-submit-status', 'success');
                    log(`âœ… å‘ç° ${forms.length} ä¸ªè¡¨å•`, 'success');
                } else {
                    updateStatus('form-submit-status', 'success');
                    log('âœ… å½“å‰é¡µé¢æ— è¡¨å•å…ƒç´ ', 'success');
                }

                updateStatus('click-response-status', 'success');
                showResult('click-response-result', 'success', 'ç‚¹å‡»å“åº”æ£€æŸ¥å®Œæˆ');
            }, 1000);
        }

        // æ‚¬åœæ•ˆæœæ£€æŸ¥
        function checkHoverEffects() {
            log('ğŸ–±ï¸ å¼€å§‹æ‚¬åœæ•ˆæœæ£€æŸ¥...', 'info');
            updateStatus('hover-effects-status', 'testing');

            // æ£€æŸ¥æ‚¬åœåŠ¨ç”»
            setTimeout(() => {
                const hoverElements = document.querySelectorAll('.test-button, .demo-element, .test-card');
                let elementsWithHover = 0;

                hoverElements.forEach(element => {
                    const computedStyle = window.getComputedStyle(element);
                    const transition = computedStyle.transition;

                    if (transition && transition !== 'none') {
                        elementsWithHover++;
                    }
                });

                if (elementsWithHover > 0) {
                    updateStatus('hover-animation-status', 'success');
                    log(`âœ… å‘ç° ${elementsWithHover} ä¸ªå…ƒç´ æœ‰æ‚¬åœåŠ¨ç”»`, 'success');
                } else {
                    updateStatus('hover-animation-status', 'warning');
                    log('âš ï¸ æœªå‘ç°æ‚¬åœåŠ¨ç”»æ•ˆæœ', 'warning');
                }
            }, 300);

            // æ£€æŸ¥æ‚¬åœçŠ¶æ€
            setTimeout(() => {
                // æ¨¡æ‹Ÿæ‚¬åœæµ‹è¯•
                const testElement = document.querySelector('.demo-element');
                if (testElement) {
                    const event = new MouseEvent('mouseenter', { bubbles: true });
                    testElement.dispatchEvent(event);

                    setTimeout(() => {
                        updateStatus('hover-state-status', 'success');
                        log('âœ… æ‚¬åœçŠ¶æ€æµ‹è¯•å®Œæˆ', 'success');

                        const leaveEvent = new MouseEvent('mouseleave', { bubbles: true });
                        testElement.dispatchEvent(leaveEvent);
                    }, 200);
                } else {
                    updateStatus('hover-state-status', 'success');
                    log('âœ… æ‚¬åœçŠ¶æ€æ£€æŸ¥å®Œæˆ', 'success');
                }
            }, 600);

            // æ£€æŸ¥é¼ æ ‡æŒ‡é’ˆ
            setTimeout(() => {
                const clickableElements = document.querySelectorAll('button, a, .demo-element');
                let elementsWithPointer = 0;

                clickableElements.forEach(element => {
                    const computedStyle = window.getComputedStyle(element);
                    if (computedStyle.cursor === 'pointer') {
                        elementsWithPointer++;
                    }
                });

                if (elementsWithPointer >= clickableElements.length * 0.8) {
                    updateStatus('cursor-status', 'success');
                    log(`âœ… é¼ æ ‡æŒ‡é’ˆæ ·å¼æ­£å¸¸: ${elementsWithPointer}/${clickableElements.length}`, 'success');
                } else {
                    updateStatus('cursor-status', 'warning');
                    log(`âš ï¸ éƒ¨åˆ†å…ƒç´ ç¼ºå°‘pointeræ ·å¼: ${elementsWithPointer}/${clickableElements.length}`, 'warning');
                }

                updateStatus('hover-effects-status', 'success');
                showResult('hover-effects-result', 'success', 'æ‚¬åœæ•ˆæœæ£€æŸ¥å®Œæˆ');
            }, 900);
        }

        // æ¨¡æ€æ¡†åŠŸèƒ½æ£€æŸ¥
        function checkModalFunctionality() {
            log('ğŸªŸ å¼€å§‹æ¨¡æ€æ¡†åŠŸèƒ½æ£€æŸ¥...', 'info');
            updateStatus('modal-functionality-status', 'testing');

            const testModal = document.getElementById('testModal');

            // æ£€æŸ¥æ‰“å¼€/å…³é—­
            setTimeout(() => {
                if (testModal) {
                    // æµ‹è¯•æ˜¾ç¤º
                    testModal.classList.add('show');

                    setTimeout(() => {
                        if (testModal.classList.contains('show')) {
                            updateStatus('modal-toggle-status', 'success');
                            log('âœ… æ¨¡æ€æ¡†æ˜¾ç¤ºåŠŸèƒ½æ­£å¸¸', 'success');

                            // æµ‹è¯•éšè—
                            testModal.classList.remove('show');
                        } else {
                            updateStatus('modal-toggle-status', 'error');
                            log('âŒ æ¨¡æ€æ¡†æ˜¾ç¤ºåŠŸèƒ½å¼‚å¸¸', 'error');
                        }
                    }, 200);
                } else {
                    updateStatus('modal-toggle-status', 'error');
                    log('âŒ æœªæ‰¾åˆ°æµ‹è¯•æ¨¡æ€æ¡†', 'error');
                }
            }, 300);

            // æ£€æŸ¥é®ç½©å±‚
            setTimeout(() => {
                if (testModal) {
                    const computedStyle = window.getComputedStyle(testModal);
                    const backgroundColor = computedStyle.backgroundColor;

                    if (backgroundColor.includes('rgba') || backgroundColor.includes('rgb')) {
                        updateStatus('modal-overlay-status', 'success');
                        log('âœ… æ¨¡æ€æ¡†é®ç½©å±‚æ ·å¼æ­£å¸¸', 'success');
                    } else {
                        updateStatus('modal-overlay-status', 'warning');
                        log('âš ï¸ æ¨¡æ€æ¡†é®ç½©å±‚æ ·å¼å¯èƒ½æœ‰é—®é¢˜', 'warning');
                    }
                } else {
                    updateStatus('modal-overlay-status', 'error');
                    log('âŒ æ— æ³•æ£€æŸ¥é®ç½©å±‚', 'error');
                }
            }, 600);

            // æ£€æŸ¥ESCé”®å…³é—­
            setTimeout(() => {
                // æ¨¡æ‹ŸESCé”®äº‹ä»¶
                const escEvent = new KeyboardEvent('keydown', {
                    key: 'Escape',
                    keyCode: 27,
                    bubbles: true
                });

                document.dispatchEvent(escEvent);

                updateStatus('modal-esc-status', 'success');
                log('âœ… ESCé”®äº‹ä»¶æµ‹è¯•å®Œæˆ', 'success');

                updateStatus('modal-functionality-status', 'success');
                showResult('modal-functionality-result', 'success', 'æ¨¡æ€æ¡†åŠŸèƒ½æ£€æŸ¥å®Œæˆ');
            }, 900);
        }

        // æ¨¡æ€æ¡†æ— éšœç¢æ€§æ£€æŸ¥
        function checkModalAccessibility() {
            log('â™¿ å¼€å§‹æ¨¡æ€æ¡†æ— éšœç¢æ€§æ£€æŸ¥...', 'info');
            updateStatus('modal-accessibility-status', 'testing');

            const testModal = document.getElementById('testModal');

            // æ£€æŸ¥ç„¦ç‚¹ç®¡ç†
            setTimeout(() => {
                if (testModal) {
                    const focusableElements = testModal.querySelectorAll(
                        'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                    );

                    if (focusableElements.length > 0) {
                        updateStatus('modal-focus-status', 'success');
                        log(`âœ… æ¨¡æ€æ¡†åŒ…å« ${focusableElements.length} ä¸ªå¯èšç„¦å…ƒç´ `, 'success');
                    } else {
                        updateStatus('modal-focus-status', 'warning');
                        log('âš ï¸ æ¨¡æ€æ¡†ç¼ºå°‘å¯èšç„¦å…ƒç´ ', 'warning');
                    }
                } else {
                    updateStatus('modal-focus-status', 'error');
                    log('âŒ æ— æ³•æ£€æŸ¥ç„¦ç‚¹ç®¡ç†', 'error');
                }
            }, 300);

            // æ£€æŸ¥é”®ç›˜å¯¼èˆª
            setTimeout(() => {
                // æ¨¡æ‹ŸTabé”®å¯¼èˆª
                const tabEvent = new KeyboardEvent('keydown', {
                    key: 'Tab',
                    keyCode: 9,
                    bubbles: true
                });

                document.dispatchEvent(tabEvent);

                updateStatus('modal-keyboard-status', 'success');
                log('âœ… é”®ç›˜å¯¼èˆªæµ‹è¯•å®Œæˆ', 'success');
            }, 600);

            // æ£€æŸ¥å±å¹•é˜…è¯»å™¨æ”¯æŒ
            setTimeout(() => {
                if (testModal) {
                    const ariaLabel = testModal.getAttribute('aria-label');
                    const ariaLabelledby = testModal.getAttribute('aria-labelledby');
                    const role = testModal.getAttribute('role');

                    if (ariaLabel || ariaLabelledby || role) {
                        updateStatus('modal-screen-reader-status', 'success');
                        log('âœ… æ¨¡æ€æ¡†åŒ…å«æ— éšœç¢å±æ€§', 'success');
                    } else {
                        updateStatus('modal-screen-reader-status', 'warning');
                        log('âš ï¸ å»ºè®®æ·»åŠ aria-labelæˆ–roleå±æ€§', 'warning');
                    }
                } else {
                    updateStatus('modal-screen-reader-status', 'error');
                    log('âŒ æ— æ³•æ£€æŸ¥å±å¹•é˜…è¯»å™¨æ”¯æŒ', 'error');
                }

                updateStatus('modal-accessibility-status', 'success');
                showResult('modal-accessibility-result', 'success', 'æ¨¡æ€æ¡†æ— éšœç¢æ€§æ£€æŸ¥å®Œæˆ');
            }, 900);
        }

        // æµ‹è¯•å…ƒç´ ç‚¹å‡»
        function testElementClick(element) {
            element.style.transform = 'scale(0.95)';
            element.style.background = '#52c41a';

            setTimeout(() => {
                element.style.transform = '';
                element.style.background = '';
            }, 200);

            log(`âœ… æµ‹è¯•å…ƒç´ ç‚¹å‡»æˆåŠŸ: ${element.textContent}`, 'success');
        }

        // æ˜¾ç¤ºæµ‹è¯•æ¨¡æ€æ¡†
        function showTestModal() {
            const testModal = document.getElementById('testModal');
            testModal.classList.add('show');
            log('ğŸªŸ æµ‹è¯•æ¨¡æ€æ¡†å·²æ˜¾ç¤º', 'info');
        }

        // éšè—æµ‹è¯•æ¨¡æ€æ¡†
        function hideTestModal() {
            const testModal = document.getElementById('testModal');
            testModal.classList.remove('show');
            log('ğŸªŸ æµ‹è¯•æ¨¡æ€æ¡†å·²éšè—', 'info');
        }

        // å…¨é¢å¸ƒå±€æ£€æŸ¥
        async function runFullLayoutCheck() {
            log('ğŸš€ å¼€å§‹å…¨é¢å¸ƒå±€æ£€æŸ¥...', 'info');

            // é‡ç½®æ‰€æœ‰çŠ¶æ€
            const statusElements = document.querySelectorAll('.status-indicator');
            statusElements.forEach(element => {
                element.className = 'status-indicator pending';
            });

            const resultElements = document.querySelectorAll('.test-result');
            resultElements.forEach(element => {
                element.style.display = 'none';
            });

            // æŒ‰é¡ºåºæ‰§è¡Œæ‰€æœ‰æ£€æŸ¥
            checkElementOverlap();
            await new Promise(resolve => setTimeout(resolve, 1500));

            checkLayoutAlignment();
            await new Promise(resolve => setTimeout(resolve, 1200));

            checkScrollBehavior();
            await new Promise(resolve => setTimeout(resolve, 1000));

            checkScrollPerformance();
            await new Promise(resolve => setTimeout(resolve, 1500));

            checkClickResponse();
            await new Promise(resolve => setTimeout(resolve, 1200));

            checkHoverEffects();
            await new Promise(resolve => setTimeout(resolve, 1000));

            checkModalFunctionality();
            await new Promise(resolve => setTimeout(resolve, 1000));

            checkModalAccessibility();
            await new Promise(resolve => setTimeout(resolve, 1000));

            // ç”Ÿæˆæ£€æŸ¥æŠ¥å‘Š
            setTimeout(() => {
                generateLayoutReport();
            }, 1000);

            log('ğŸ‰ å…¨é¢å¸ƒå±€æ£€æŸ¥å®Œæˆï¼', 'success');
        }

        // äº¤äº’åŠŸèƒ½æµ‹è¯•
        async function runInteractionTest() {
            log('ğŸ¯ å¼€å§‹äº¤äº’åŠŸèƒ½æµ‹è¯•...', 'info');

            // é‡ç‚¹æµ‹è¯•äº¤äº’ç›¸å…³åŠŸèƒ½
            checkClickResponse();
            await new Promise(resolve => setTimeout(resolve, 1200));

            checkHoverEffects();
            await new Promise(resolve => setTimeout(resolve, 1000));

            checkModalFunctionality();
            await new Promise(resolve => setTimeout(resolve, 1000));

            log('ğŸ¯ äº¤äº’åŠŸèƒ½æµ‹è¯•å®Œæˆï¼', 'success');
        }

        // è‡ªåŠ¨ä¿®å¤é—®é¢˜
        function autoFixIssues() {
            log('ğŸ”§ å¼€å§‹è‡ªåŠ¨ä¿®å¤é—®é¢˜...', 'info');

            let fixedIssues = 0;

            // ä¿®å¤æ–‡å­—é‡å é—®é¢˜
            setTimeout(() => {
                const textElements = document.querySelectorAll('p, span, div');
                textElements.forEach(element => {
                    const computedStyle = window.getComputedStyle(element);
                    const lineHeight = parseFloat(computedStyle.lineHeight);
                    const fontSize = parseFloat(computedStyle.fontSize);

                    if (lineHeight && fontSize && lineHeight / fontSize < 1.2) {
                        element.style.lineHeight = '1.5';
                        fixedIssues++;
                    }
                });

                if (fixedIssues > 0) {
                    log(`ğŸ”§ ä¿®å¤äº† ${fixedIssues} ä¸ªæ–‡å­—é‡å é—®é¢˜`, 'success');
                }
            }, 500);

            // ä¿®å¤Z-indexé—®é¢˜
            setTimeout(() => {
                const elementsWithHighZIndex = document.querySelectorAll('*');
                let zIndexFixed = 0;

                elementsWithHighZIndex.forEach(element => {
                    const zIndex = parseInt(window.getComputedStyle(element).zIndex);
                    if (!isNaN(zIndex) && zIndex > 9999) {
                        element.style.zIndex = '999';
                        zIndexFixed++;
                    }
                });

                if (zIndexFixed > 0) {
                    log(`ğŸ”§ ä¿®å¤äº† ${zIndexFixed} ä¸ªZ-indexå±‚çº§é—®é¢˜`, 'success');
                }
            }, 800);

            // ä¿®å¤é¼ æ ‡æŒ‡é’ˆæ ·å¼
            setTimeout(() => {
                const clickableElements = document.querySelectorAll('button, a');
                let cursorFixed = 0;

                clickableElements.forEach(element => {
                    const computedStyle = window.getComputedStyle(element);
                    if (computedStyle.cursor !== 'pointer') {
                        element.style.cursor = 'pointer';
                        cursorFixed++;
                    }
                });

                if (cursorFixed > 0) {
                    log(`ğŸ”§ ä¿®å¤äº† ${cursorFixed} ä¸ªé¼ æ ‡æŒ‡é’ˆæ ·å¼é—®é¢˜`, 'success');
                }
            }, 1100);

            // æ·»åŠ æ¨¡æ€æ¡†æ— éšœç¢å±æ€§
            setTimeout(() => {
                const testModal = document.getElementById('testModal');
                if (testModal && !testModal.getAttribute('role')) {
                    testModal.setAttribute('role', 'dialog');
                    testModal.setAttribute('aria-label', 'æµ‹è¯•æ¨¡æ€æ¡†');
                    log('ğŸ”§ ä¸ºæ¨¡æ€æ¡†æ·»åŠ äº†æ— éšœç¢å±æ€§', 'success');
                }
            }, 1400);

            setTimeout(() => {
                log('ğŸ‰ è‡ªåŠ¨ä¿®å¤å®Œæˆï¼å»ºè®®é‡æ–°è¿è¡Œæ£€æŸ¥éªŒè¯ä¿®å¤æ•ˆæœ', 'success');
            }, 1700);
        }

        // ç”Ÿæˆå¸ƒå±€æ£€æŸ¥æŠ¥å‘Š
        function generateLayoutReport() {
            const successElements = document.querySelectorAll('.status-indicator.success');
            const warningElements = document.querySelectorAll('.status-indicator.warning');
            const errorElements = document.querySelectorAll('.status-indicator.error');

            const totalChecks = successElements.length + warningElements.length + errorElements.length;
            const score = totalChecks > 0 ? Math.round((successElements.length / totalChecks) * 100) : 0;

            log('', 'info');
            log('ğŸ“Š ===== å¸ƒå±€å’Œäº¤äº’æ£€æŸ¥æŠ¥å‘Š =====', 'info');
            log(`æ€»æ£€æŸ¥é¡¹: ${totalChecks}`, 'info');
            log(`é€šè¿‡é¡¹: ${successElements.length}`, 'success');
            log(`è­¦å‘Šé¡¹: ${warningElements.length}`, 'warning');
            log(`é”™è¯¯é¡¹: ${errorElements.length}`, 'error');
            log(`å¸ƒå±€è´¨é‡è¯„åˆ†: ${score}%`, score >= 90 ? 'success' : score >= 70 ? 'warning' : 'error');
            log('', 'info');

            // åˆ†ç±»æŠ¥å‘Š
            log('ğŸ“‹ æ£€æŸ¥åˆ†ç±»ç»“æœ:', 'info');

            // å…ƒç´ é‡å æ£€æŸ¥
            const overlapPassed = ['text-overlap-status', 'component-overlap-status', 'zindex-status']
                .filter(id => document.getElementById(id)?.classList.contains('success')).length;
            log(`â€¢ å…ƒç´ é‡å æ£€æŸ¥: ${overlapPassed}/3 é¡¹é€šè¿‡`, overlapPassed === 3 ? 'success' : 'warning');

            // å¸ƒå±€å¯¹é½æ£€æŸ¥
            const alignmentPassed = ['grid-alignment-status', 'flex-alignment-status', 'baseline-alignment-status']
                .filter(id => document.getElementById(id)?.classList.contains('success')).length;
            log(`â€¢ å¸ƒå±€å¯¹é½æ£€æŸ¥: ${alignmentPassed}/3 é¡¹é€šè¿‡`, alignmentPassed === 3 ? 'success' : 'warning');

            // æ»šåŠ¨è¡Œä¸ºæ£€æŸ¥
            const scrollPassed = ['vertical-scroll-status', 'horizontal-scroll-status', 'scrollbar-style-status']
                .filter(id => document.getElementById(id)?.classList.contains('success')).length;
            log(`â€¢ æ»šåŠ¨è¡Œä¸ºæ£€æŸ¥: ${scrollPassed}/3 é¡¹é€šè¿‡`, scrollPassed >= 2 ? 'success' : 'warning');

            // äº¤äº’å“åº”æ£€æŸ¥
            const interactionPassed = ['button-click-status', 'hover-animation-status', 'cursor-status']
                .filter(id => document.getElementById(id)?.classList.contains('success')).length;
            log(`â€¢ äº¤äº’å“åº”æ£€æŸ¥: ${interactionPassed}/3 é¡¹é€šè¿‡`, interactionPassed >= 2 ? 'success' : 'warning');

            // æ¨¡æ€æ¡†åŠŸèƒ½æ£€æŸ¥
            const modalPassed = ['modal-toggle-status', 'modal-overlay-status', 'modal-focus-status']
                .filter(id => document.getElementById(id)?.classList.contains('success')).length;
            log(`â€¢ æ¨¡æ€æ¡†åŠŸèƒ½æ£€æŸ¥: ${modalPassed}/3 é¡¹é€šè¿‡`, modalPassed >= 2 ? 'success' : 'warning');

            log('', 'info');

            // æ€»ä½“è¯„ä»·å’Œå»ºè®®
            if (score >= 95) {
                log('ğŸ‰ å¸ƒå±€å’Œäº¤äº’è´¨é‡ä¼˜ç§€ï¼ç³»ç»Ÿè¿è¡Œç¨³å®š', 'success');
            } else if (score >= 85) {
                log('ğŸ‘ å¸ƒå±€å’Œäº¤äº’è´¨é‡è‰¯å¥½ï¼Œå°‘æ•°é—®é¢˜éœ€è¦å…³æ³¨', 'success');
            } else if (score >= 70) {
                log('âš ï¸ å¸ƒå±€å’Œäº¤äº’è´¨é‡ä¸€èˆ¬ï¼Œå»ºè®®ä½¿ç”¨è‡ªåŠ¨ä¿®å¤åŠŸèƒ½', 'warning');
            } else {
                log('âŒ å¸ƒå±€å’Œäº¤äº’å­˜åœ¨è¾ƒå¤šé—®é¢˜ï¼Œå»ºè®®ç«‹å³ä¿®å¤', 'error');
            }

            log('', 'info');
            log('ğŸ”§ ä¿®å¤å»ºè®®:', 'info');
            if (warningElements.length > 0) {
                log('â€¢ ç‚¹å‡»"è‡ªåŠ¨ä¿®å¤é—®é¢˜"æŒ‰é’®å°è¯•è‡ªåŠ¨ä¿®å¤', 'info');
            }
            if (errorElements.length > 0) {
                log('â€¢ æ£€æŸ¥æ§åˆ¶å°é”™è¯¯ä¿¡æ¯', 'info');
                log('â€¢ éªŒè¯ç›¸å…³ç»„ä»¶æ˜¯å¦æ­£ç¡®åŠ è½½', 'info');
            }
            log('â€¢ åœ¨ä¸åŒè®¾å¤‡å’Œæµè§ˆå™¨ä¸­æµ‹è¯•', 'info');
            log('â€¢ å…³æ³¨ç”¨æˆ·åé¦ˆå’Œä½¿ç”¨ä½“éªŒ', 'info');
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            log('ğŸ¯ iFlytekå¸ƒå±€å’Œäº¤äº’é—®é¢˜æ£€æŸ¥å·¥å…·å·²å¯åŠ¨', 'info');
            log('ğŸ“‹ è¯·é€‰æ‹©æ£€æŸ¥é¡¹ç›®æˆ–ç‚¹å‡»"å¼€å§‹å…¨é¢å¸ƒå±€æ£€æŸ¥"', 'info');

            // æ·»åŠ ESCé”®å…³é—­æ¨¡æ€æ¡†åŠŸèƒ½
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    hideTestModal();
                }
            });

            // æ·»åŠ ç‚¹å‡»é®ç½©å…³é—­æ¨¡æ€æ¡†åŠŸèƒ½
            document.getElementById('testModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    hideTestModal();
                }
            });
        });
    </script>
</body>
</html>
